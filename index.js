!function t(n,e,r){function o(a,u){if(!e[a]){if(!n[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var l=e[a]={exports:{}};n[a][0].call(l.exports,function(t){var e=n[a][1][t];return o(e||t)},l,l.exports,t,n,e,r)}return e[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,n,e){function r({gameState:t,recentClickX:n,recentClickY:e}){u({gameState:t,recentClickX:n,recentClickY:e,probable:s}),c({gameState:t,onAdvance:r})}function o(t,n,e,r,o){a(o)}var i=t("route-state"),a=t("handle-error-web"),u=t("./flows/update"),c=t("./renderers/render"),s=t("probable"),l=t("lodash.findwhere"),f=t("./generators/generate-grids"),h=t("./generators/generate-souls"),p={},d=i({followRoute:function(t){p.grids=f({probable:s}),p.souls=h({probable:s,grids:p.grids}),p.player=l(p.souls,{id:"player"}),r({gameState:p})},windowObject:window});window.onerror=o,d.routeFromHash()},{"./flows/update":6,"./generators/generate-grids":8,"./generators/generate-souls":9,"./renderers/render":61,"handle-error-web":23,"lodash.findwhere":41,probable:49,"route-state":52}],2:[function(t,n,e){n.exports=function(t,n){for(var e=0;e<t.length;++e){let o=t[e];for(var r=0;r<o.length;++r)n(o[r])}}},{}],3:[function(t,n,e){n.exports={player:{type:"player",sprite:{col:2,row:0,width:32,height:32,hitRadius:48}},doof:{type:"doof",sprite:{col:1,row:0,width:32,height:32,hitRadius:100}},octo:{type:"octo",sprite:{col:0,row:0,width:32,height:32,hitRadius:32}}}},{}],4:[function(t,n,e){function r(t,n){function e(t){n.rows=i[t.name](t,n.rows)}var r=!function(t){return void 0!==t.rows[0][0].minX}(n);n.effects&&(a(n.rows,t.remove.bind(t)),n.effects.forEach(e),r=!0),r&&(a(n.rows,o),a(n.rows,t.insert.bind(t)))}function o(t){t.minX=t.x-u,t.maxX=t.x+u,t.minY=t.y-u,t.maxY=t.y+u}var i=t("../grid-effects/grid-effects"),a=t("../apply-to-points-in-rows");const u=10;n.exports=r},{"../apply-to-points-in-rows":2,"../grid-effects/grid-effects":11}],5:[function(t,n,e){var r=t("lodash.findwhere");n.exports=function(t,n,e){var o=r(t,{id:e.grid.id});if(o){var i=o.rows[e.grid.rowOnGrid][e.grid.colOnGrid];e.minX=i.x-e.sprite.width/2,e.maxX=i.x+e.sprite.width/2,e.minY=i.y-e.sprite.height/2,e.maxY=i.y+e.sprite.height/2,n.remove(e),n.insert(e)}else console.log("Could not find grid",e.grid.id,"for",e.id,"!")}},{"lodash.findwhere":41}],6:[function(t,n,e){function r({gameState:t,recentClickX:n,recentClickY:e,probable:r}){if(!isNaN(n)&&!isNaN(e)){var c=h.search({minX:n-f,maxX:n+f,minY:e-f,maxY:e+f}),d=s(c,{gridId:t.player.grid.id});d&&function(t,n){return 1===l.getVectorMagnitude(l.subtractPairs(t,n))}([d.col,d.row],[t.player.grid.colOnGrid,t.player.grid.rowOnGrid])&&function(t,n,e,r){(function(t,n){t.player.grid.colOnGrid=n.col,t.player.grid.rowOnGrid=n.row})(t,e),t.souls.forEach(i(o)(t,r))}(t,0,d,r)}0===p&&t.grids.forEach(i(a)(h)),t.souls.forEach(i(u)(t.grids,h)),p+=1}function o(t,n,e){if("player"!==e.id){var r=function(t,n){return[[t.grid.colOnGrid+1,t.grid.rowOnGrid],[t.grid.colOnGrid,t.grid.rowOnGrid+1],[t.grid.colOnGrid-1,t.grid.rowOnGrid],[t.grid.colOnGrid,t.grid.rowOnGrid-1]].filter(function(t){return t[0]>=0&&t[0]<n.rows[0].length&&t[1]>=0&&t[1]<n.rows.length})}(e,s(t.grids,{id:e.grid.id}));console.log("neighbors",r);var o=n.pickFromArray(r);e.grid.colOnGrid=o[0],e.grid.rowOnGrid=o[1]}}var i=t("lodash.curry"),a=t("./update-grid"),u=t("./update-soul"),c=t("rbush"),s=t("lodash.findwhere"),l=t("basic-2d-math");const f=20;var h=c(9),p=0;n.exports=r},{"./update-grid":4,"./update-soul":5,"basic-2d-math":12,"lodash.curry":38,"lodash.findwhere":41,rbush:51}],7:[function(t,n,e){var r=t("d3-array").range;n.exports=function({grid:t,probable:n}){var e=n.createTableFromSizes([[4,1],[4,2],[4,3],[2,4],[2,5],[1,6]]),o=(t.width+t.height)/2;return{name:"gravityWarp",centers:r(e.roll()).map(function(){return[n.roll(t.width),n.roll(t.height)]}),strength:n.roll(32)+n.roll(32),decayDist:o/5+n.roll(.4*o)}}},{"d3-array":13}],8:[function(t,n,e){var r=t("idmaker").randomId,o=t("./effects/generate-gravity-warp");n.exports=function({probable:t}){for(var n=t.createTableFromSizes([[4,128],[3,64],[1,256]]),e=t.createTableFromSizes([[4,10],[3,6],[2,4],[1,2]]),i=t.createTableFromSizes([[2,0],[2,1],[1,2]]),a=[],u=1+t.rollDie(2),c=0;c<u;++c){let u=t.roll(4)>0,c=n.roll(),s=c;u||(s=n.roll());let l=e.roll(),f=e.roll(),h={id:"grid-"+r(4),xSpace:c,ySpace:s,xOffset:n.roll(),yOffset:n.roll(),numberOfCols:l,numberOfRows:f,width:l*c,height:f*s,color:`hsl(${t.roll(360)}, 50%, 50%)`},p=i.roll();p>0&&(h.effects=[]);for(let n=0;n<p;++n)h.effects.push(o({grid:h,probable:t}));h.rows=function(t){for(var n=[],e=0;e<t.numberOfRows;++e){let o=[];for(var r=0;r<t.numberOfCols;++r)o.push({x:t.xOffset+r*t.xSpace,y:t.yOffset+e*t.ySpace,col:r,row:e,gridId:t.id});n.push(o)}return n}(h),a.push(h)}return a}},{"./effects/generate-gravity-warp":7,idmaker:24}],9:[function(t,n,e){var r=t("../defs/soul-defs"),o=t("idmaker").randomId,i=t("lodash.clonedeep");n.exports=function({probable:t,grids:n}){var e=t.createTableFromSizes([[3,"doof"],[1,"octo"]]),a=i(r.player);a.id="player";for(var u=[a],c=t.rollDie(4)+t.roll(4),s=0;s<c;++s){let t=i(r[e.roll()]);t.id=t.type+"-"+o(4),u.push(t)}return u.forEach(function(e){let r=t.pickFromArray(n);e.grid={id:r.id,colOnGrid:t.roll(r.rows[0].length),rowOnGrid:t.roll(r.rows.length)}}),u}},{"../defs/soul-defs":3,idmaker:24,"lodash.clonedeep":37}],10:[function(t,n,e){function r({points:t,strength:n,decayDist:e},r){for(var o=u({x:r[0],y:r[1]},a(t,"value"),"x","y"),i=0;i<o.length;++i){let a=t[o[i]].value,u=function(t){return[t.x,t.y]}(a),h=c.getVectorMagnitude(c.subtractPairs(u,r));if(h>e)break;var s=n*(e-h)/e,l=c.changeVectorMagnitude(c.subtractPairs(r,u),s),f=c.addPairs(u,l);a.x=f[0],a.y=f[1]}}var o=t("../row-ops"),i=t("lodash.curry"),a=t("lodash.pluck"),u=t("sort-cells-by-dist"),c=t("basic-2d-math");n.exports=function({centers:t,strength:n,decayDist:e},a){var u=o.flattenRowsButKeepOrigins(a);return t.forEach(i(r)({points:u,strength:n,decayDist:e})),o.reconstituteIntoRows(u)}},{"../row-ops":62,"basic-2d-math":12,"lodash.curry":38,"lodash.pluck":48,"sort-cells-by-dist":58}],11:[function(t,n,e){n.exports={gravityWarp:t("./gravity-warp")}},{"./gravity-warp":10}],12:[function(t,n,e){function r(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function o(t,n){return[t[0]*n,t[1]*n]}n.exports={getVectorMagnitude:r,addPairs:function(t,n){return[t[0]+n[0],t[1]+n[1]]},subtractPairs:function(t,n){return[t[0]-n[0],t[1]-n[1]]},multiplyPairBySingleValue:o,changeVectorMagnitude:function(t,n){return o(t,n/r(t))}}},{}],13:[function(t,n,e){!function(t,r){"object"==typeof e&&void 0!==n?r(e):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function n(t,n){return[t,n]}function e(t,n,e){var r=(n-t)/Math.max(0,e),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=w?10:i>=_?5:i>=x?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=w?10:i>=_?5:i>=x?2:1)}function r(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=w?o*=10:i>=_?o*=5:i>=x&&(o*=2),n<t?-o:o}function o(t){return t.length}var i=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},a=function(t){return 1===t.length&&(t=function(t){return function(n,e){return i(t(n),e)}}(t)),{left:function(n,e,r,o){for(null==r&&(r=0),null==o&&(o=n.length);r<o;){var i=r+o>>>1;t(n[i],e)<0?r=i+1:o=i}return r},right:function(n,e,r,o){for(null==r&&(r=0),null==o&&(o=n.length);r<o;){var i=r+o>>>1;t(n[i],e)>0?o=i:r=i+1}return r}}},u=a(i),c=u.right,s=u.left,l=function(t){return null===t?NaN:+t},f=function(t,n){var e,r,o=t.length,i=0,a=-1,u=0,c=0;if(null==n)for(;++a<o;)isNaN(e=l(t[a]))||(c+=(r=e-u)*(e-(u+=r/++i)));else for(;++a<o;)isNaN(e=l(n(t[a],a,t)))||(c+=(r=e-u)*(e-(u+=r/++i)));if(i>1)return c/(i-1)},h=function(t,n){var e=f(t,n);return e?Math.sqrt(e):e},p=function(t,n){var e,r,o,i=t.length,a=-1;if(null==n){for(;++a<i;)if(null!=(e=t[a])&&e>=e)for(r=o=e;++a<i;)null!=(e=t[a])&&(r>e&&(r=e),o<e&&(o=e))}else for(;++a<i;)if(null!=(e=n(t[a],a,t))&&e>=e)for(r=o=e;++a<i;)null!=(e=n(t[a],a,t))&&(r>e&&(r=e),o<e&&(o=e));return[r,o]},d=Array.prototype,v=d.slice,y=d.map,g=function(t){return function(){return t}},m=function(t){return t},b=function(t,n,e){t=+t,n=+n,e=(o=arguments.length)<2?(n=t,t=0,1):o<3?1:+e;for(var r=-1,o=0|Math.max(0,Math.ceil((n-t)/e)),i=new Array(o);++r<o;)i[r]=t+r*e;return i},w=Math.sqrt(50),_=Math.sqrt(10),x=Math.sqrt(2),j=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},M=function(t,n,e){if(null==e&&(e=l),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,o=(r-1)*n,i=Math.floor(o),a=+e(t[i],i,t);return a+(+e(t[i+1],i+1,t)-a)*(o-i)}},A=function(t,n){var e,r,o=t.length,i=-1;if(null==n){for(;++i<o;)if(null!=(e=t[i])&&e>=e)for(r=e;++i<o;)null!=(e=t[i])&&r>e&&(r=e)}else for(;++i<o;)if(null!=(e=n(t[i],i,t))&&e>=e)for(r=e;++i<o;)null!=(e=n(t[i],i,t))&&r>e&&(r=e);return r},O=function(t){if(!(i=t.length))return[];for(var n=-1,e=A(t,o),r=new Array(e);++n<e;)for(var i,a=-1,u=r[n]=new Array(i);++a<i;)u[a]=t[a][n];return r};t.bisect=c,t.bisectRight=c,t.bisectLeft=s,t.ascending=i,t.bisector=a,t.cross=function(t,e,r){var o,i,a,u,c=t.length,s=e.length,l=new Array(c*s);for(null==r&&(r=n),o=a=0;o<c;++o)for(u=t[o],i=0;i<s;++i,++a)l[a]=r(u,e[i]);return l},t.descending=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},t.deviation=h,t.extent=p,t.histogram=function(){function t(t){var i,a,u=t.length,s=new Array(u);for(i=0;i<u;++i)s[i]=n(t[i],i,t);var l=e(s),f=l[0],h=l[1],p=o(s,f,h);Array.isArray(p)||(p=r(f,h,p),p=b(Math.ceil(f/p)*p,Math.floor(h/p)*p,p));for(var d=p.length;p[0]<=f;)p.shift(),--d;for(;p[d-1]>h;)p.pop(),--d;var v,y=new Array(d+1);for(i=0;i<=d;++i)(v=y[i]=[]).x0=i>0?p[i-1]:f,v.x1=i<d?p[i]:h;for(i=0;i<u;++i)f<=(a=s[i])&&a<=h&&y[c(p,a,0,d)].push(t[i]);return y}var n=m,e=p,o=j;return t.value=function(e){return arguments.length?(n="function"==typeof e?e:g(e),t):n},t.domain=function(n){return arguments.length?(e="function"==typeof n?n:g([n[0],n[1]]),t):e},t.thresholds=function(n){return arguments.length?(o="function"==typeof n?n:g(Array.isArray(n)?v.call(n):n),t):o},t},t.thresholdFreedmanDiaconis=function(t,n,e){return t=y.call(t,l).sort(i),Math.ceil((e-n)/(2*(M(t,.75)-M(t,.25))*Math.pow(t.length,-1/3)))},t.thresholdScott=function(t,n,e){return Math.ceil((e-n)/(3.5*h(t)*Math.pow(t.length,-1/3)))},t.thresholdSturges=j,t.max=function(t,n){var e,r,o=t.length,i=-1;if(null==n){for(;++i<o;)if(null!=(e=t[i])&&e>=e)for(r=e;++i<o;)null!=(e=t[i])&&e>r&&(r=e)}else for(;++i<o;)if(null!=(e=n(t[i],i,t))&&e>=e)for(r=e;++i<o;)null!=(e=n(t[i],i,t))&&e>r&&(r=e);return r},t.mean=function(t,n){var e,r=t.length,o=r,i=-1,a=0;if(null==n)for(;++i<r;)isNaN(e=l(t[i]))?--o:a+=e;else for(;++i<r;)isNaN(e=l(n(t[i],i,t)))?--o:a+=e;if(o)return a/o},t.median=function(t,n){var e,r=t.length,o=-1,a=[];if(null==n)for(;++o<r;)isNaN(e=l(t[o]))||a.push(e);else for(;++o<r;)isNaN(e=l(n(t[o],o,t)))||a.push(e);return M(a.sort(i),.5)},t.merge=function(t){for(var n,e,r,o=t.length,i=-1,a=0;++i<o;)a+=t[i].length;for(e=new Array(a);--o>=0;)for(n=(r=t[o]).length;--n>=0;)e[--a]=r[n];return e},t.min=A,t.pairs=function(t,e){null==e&&(e=n);for(var r=0,o=t.length-1,i=t[0],a=new Array(o<0?0:o);r<o;)a[r]=e(i,i=t[++r]);return a},t.permute=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r},t.quantile=M,t.range=b,t.scan=function(t,n){if(e=t.length){var e,r,o=0,a=0,u=t[a];for(null==n&&(n=i);++o<e;)(n(r=t[o],u)<0||0!==n(u,u))&&(u=r,a=o);return 0===n(u,u)?a:void 0}},t.shuffle=function(t,n,e){for(var r,o,i=(null==e?t.length:e)-(n=null==n?0:+n);i;)o=Math.random()*i--|0,r=t[i+n],t[i+n]=t[o+n],t[o+n]=r;return t},t.sum=function(t,n){var e,r=t.length,o=-1,i=0;if(null==n)for(;++o<r;)(e=+t[o])&&(i+=e);else for(;++o<r;)(e=+n(t[o],o,t))&&(i+=e);return i},t.ticks=function(t,n,r){var o,i,a,u,c=-1;if(n=+n,t=+t,r=+r,t===n&&r>0)return[t];if((o=n<t)&&(i=t,t=n,n=i),0===(u=e(t,n,r))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),n=Math.floor(n/u),a=new Array(i=Math.ceil(n-t+1));++c<i;)a[c]=(t+c)*u;else for(t=Math.floor(t*u),n=Math.ceil(n*u),a=new Array(i=Math.ceil(t-n+1));++c<i;)a[c]=(t-c)/u;return o&&a.reverse(),a},t.tickIncrement=e,t.tickStep=r,t.transpose=O,t.variance=f,t.zip=function(){return O(arguments)},Object.defineProperty(t,"__esModule",{value:!0})})},{}],14:[function(t,n,e){!function(t,r){"object"==typeof e&&void 0!==n?r(e):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function n(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function e(){}function r(t){var n;return t=(t+"").trim().toLowerCase(),(n=E.exec(t))?(n=parseInt(n[1],16),new c(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1)):(n=S.exec(t))?o(parseInt(n[1],16)):(n=N.exec(t))?new c(n[1],n[2],n[3],1):(n=P.exec(t))?new c(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=I.exec(t))?i(n[1],n[2],n[3],n[4]):(n=X.exec(t))?i(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=C.exec(t))?s(n[1],n[2]/100,n[3]/100,1):(n=Y.exec(t))?s(n[1],n[2]/100,n[3]/100,n[4]):z.hasOwnProperty(t)?o(z[t]):"transparent"===t?new c(NaN,NaN,NaN,0):null}function o(t){return new c(t>>16&255,t>>8&255,255&t,1)}function i(t,n,e,r){return r<=0&&(t=n=e=NaN),new c(t,n,e,r)}function a(t){return t instanceof e||(t=r(t)),t?(t=t.rgb(),new c(t.r,t.g,t.b,t.opacity)):new c}function u(t,n,e,r){return 1===arguments.length?a(t):new c(t,n,e,null==r?1:r)}function c(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function s(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new f(t,n,e,r)}function l(t,n,o,i){return 1===arguments.length?function(t){if(t instanceof f)return new f(t.h,t.s,t.l,t.opacity);if(t instanceof e||(t=r(t)),!t)return new f;if(t instanceof f)return t;var n=(t=t.rgb()).r/255,o=t.g/255,i=t.b/255,a=Math.min(n,o,i),u=Math.max(n,o,i),c=NaN,s=u-a,l=(u+a)/2;return s?(c=n===u?(o-i)/s+6*(o<i):o===u?(i-n)/s+2:(n-o)/s+4,s/=l<.5?u+a:2-u-a,c*=60):s=l>0&&l<1?0:c,new f(c,s,l,t.opacity)}(t):new f(t,n,o,null==i?1:i)}function f(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function h(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function p(t){if(t instanceof v)return new v(t.l,t.a,t.b,t.opacity);if(t instanceof _){var n=t.h*B;return new v(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof c||(t=a(t));var e=b(t.r),r=b(t.g),o=b(t.b),i=y((.4124564*e+.3575761*r+.1804375*o)/R),u=y((.2126729*e+.7151522*r+.072175*o)/D);return new v(116*u-16,500*(i-u),200*(u-y((.0193339*e+.119192*r+.9503041*o)/q)),t.opacity)}function d(t,n,e,r){return 1===arguments.length?p(t):new v(t,n,e,null==r?1:r)}function v(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function y(t){return t>G?Math.pow(t,1/3):t/L+F}function g(t){return t>$?t*t*t:L*(t-F)}function m(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function b(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function w(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof _)return new _(t.h,t.c,t.l,t.opacity);t instanceof v||(t=p(t));var n=Math.atan2(t.b,t.a)*T;return new _(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new _(t,n,e,null==r?1:r)}function _(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function x(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof j)return new j(t.h,t.s,t.l,t.opacity);t instanceof c||(t=a(t));var n=t.r/255,e=t.g/255,r=t.b/255,o=(Z*r+K*n-J*e)/(Z+K-J),i=r-o,u=(Q*(e-o)-U*i)/W,s=Math.sqrt(u*u+i*i)/(Q*o*(1-o)),l=s?Math.atan2(u,i)*T-120:NaN;return new j(l<0?l+360:l,s,o,t.opacity)}(t):new j(t,n,e,null==r?1:r)}function j(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}var M=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t},A="\\s*([+-]?\\d+)\\s*",O="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",k="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",E=/^#([0-9a-f]{3})$/,S=/^#([0-9a-f]{6})$/,N=new RegExp("^rgb\\("+[A,A,A]+"\\)$"),P=new RegExp("^rgb\\("+[k,k,k]+"\\)$"),I=new RegExp("^rgba\\("+[A,A,A,O]+"\\)$"),X=new RegExp("^rgba\\("+[k,k,k,O]+"\\)$"),C=new RegExp("^hsl\\("+[O,k,k]+"\\)$"),Y=new RegExp("^hsla\\("+[O,k,k,O]+"\\)$"),z={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};M(e,r,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),M(c,u,n(e,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new c(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new c(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),M(f,l,n(e,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new f(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new f(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,o=2*e-r;return new c(h(t>=240?t-240:t+120,o,r),h(t,o,r),h(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var B=Math.PI/180,T=180/Math.PI,R=.95047,D=1,q=1.08883,F=4/29,$=6/29,L=3*$*$,G=$*$*$;M(v,d,n(e,{brighter:function(t){return new v(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new v(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return t=D*g(t),n=R*g(n),e=q*g(e),new c(m(3.2404542*n-1.5371385*t-.4985314*e),m(-.969266*n+1.8760108*t+.041556*e),m(.0556434*n-.2040259*t+1.0572252*e),this.opacity)}})),M(_,w,n(e,{brighter:function(t){return new _(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new _(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return p(this).rgb()}}));var V=-.14861,H=1.78277,U=-.29227,W=-.90649,Q=1.97294,K=Q*W,J=Q*H,Z=H*U-W*V;M(j,x,n(e,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new j(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new j(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*B,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),o=Math.sin(t);return new c(255*(n+e*(V*r+H*o)),255*(n+e*(U*r+W*o)),255*(n+e*(Q*r)),this.opacity)}})),t.color=r,t.rgb=u,t.hsl=l,t.lab=d,t.hcl=w,t.cubehelix=x,Object.defineProperty(t,"__esModule",{value:!0})})},{}],15:[function(t,n,e){!function(t,r){"object"==typeof e&&void 0!==n?r(e):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function n(){for(var t,n=0,r=arguments.length,o={};n<r;++n){if(!(t=arguments[n]+"")||t in o)throw new Error("illegal type: "+t);o[t]=[]}return new e(o)}function e(t){this._=t}function r(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=o,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}var o={value:function(){}};e.prototype=n.prototype={constructor:e,on:function(t,n){var e,o=this._,i=function(t,n){return t.trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}(t+"",o),a=-1,u=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<u;)if(e=(t=i[a]).type)o[e]=r(o[e],t.name,n);else if(null==n)for(e in o)o[e]=r(o[e],t.name,null);return this}for(;++a<u;)if((e=(t=i[a]).type)&&(e=function(t,n){for(var e,r=0,o=t.length;r<o;++r)if((e=t[r]).name===n)return e.value}(o[e],t.name)))return e},copy:function(){var t={},n=this._;for(var r in n)t[r]=n[r].slice();return new e(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,o=new Array(e),i=0;i<e;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,e=(r=this._[t]).length;i<e;++i)r[i].value.apply(n,o)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(n,e)}},t.dispatch=n,Object.defineProperty(t,"__esModule",{value:!0})})},{}],16:[function(t,n,e){!function(r,o){"object"==typeof e&&void 0!==n?o(e,t("d3-dispatch"),t("d3-selection")):"function"==typeof define&&define.amd?define(["exports","d3-dispatch","d3-selection"],o):o(r.d3=r.d3||{},r.d3,r.d3)}(this,function(t,n,e){"use strict";function r(){e.event.stopImmediatePropagation()}function o(t,n){var r=t.document.documentElement,o=e.select(t).on("dragstart.drag",null);n&&(o.on("click.drag",l,!0),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in r?o.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}function i(t,n,e,r,o,i,a,u,c,s){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=o,this.x=i,this.y=a,this.dx=u,this.dy=c,this._=s}function a(){return!e.event.button}function u(){return this.parentNode}function c(t){return null==t?{x:e.event.x,y:e.event.y}:t}function s(){return"ontouchstart"in this}var l=function(){e.event.preventDefault(),e.event.stopImmediatePropagation()},f=function(t){var n=t.document.documentElement,r=e.select(t).on("dragstart.drag",l,!0);"onselectstart"in n?r.on("selectstart.drag",l,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")},h=function(t){return function(){return t}};i.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};t.drag=function(){function t(t){t.on("mousedown.drag",p).filter(k).on("touchstart.drag",y).on("touchmove.drag",g).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(){if(!j&&M.apply(this,arguments)){var t=b("mouse",A.apply(this,arguments),e.mouse,this,arguments);t&&(e.select(e.event.view).on("mousemove.drag",d,!0).on("mouseup.drag",v,!0),f(e.event.view),r(),x=!1,w=e.event.clientX,_=e.event.clientY,t("start"))}}function d(){if(l(),!x){var t=e.event.clientX-w,n=e.event.clientY-_;x=t*t+n*n>P}E.mouse("drag")}function v(){e.select(e.event.view).on("mousemove.drag mouseup.drag",null),o(e.event.view,x),l(),E.mouse("end")}function y(){if(M.apply(this,arguments)){var t,n,o=e.event.changedTouches,i=A.apply(this,arguments),a=o.length;for(t=0;t<a;++t)(n=b(o[t].identifier,i,e.touch,this,arguments))&&(r(),n("start"))}}function g(){var t,n,r=e.event.changedTouches,o=r.length;for(t=0;t<o;++t)(n=E[r[t].identifier])&&(l(),n("drag"))}function m(){var t,n,o=e.event.changedTouches,i=o.length;for(j&&clearTimeout(j),j=setTimeout(function(){j=null},500),t=0;t<i;++t)(n=E[o[t].identifier])&&(r(),n("end"))}function b(n,r,o,a,u){var c,s,l,f=o(r,n),h=S.copy();if(e.customEvent(new i(t,"beforestart",c,n,N,f[0],f[1],0,0,h),function(){return null!=(e.event.subject=c=O.apply(a,u))&&(s=c.x-f[0]||0,l=c.y-f[1]||0,!0)}))return function p(d){var v,y=f;switch(d){case"start":E[n]=p,v=N++;break;case"end":delete E[n],--N;case"drag":f=o(r,n),v=N}e.customEvent(new i(t,d,c,n,v,f[0]+s,f[1]+l,f[0]-y[0],f[1]-y[1],h),h.apply,h,[d,a,u])}}var w,_,x,j,M=a,A=u,O=c,k=s,E={},S=n.dispatch("start","drag","end"),N=0,P=0;return t.filter=function(n){return arguments.length?(M="function"==typeof n?n:h(!!n),t):M},t.container=function(n){return arguments.length?(A="function"==typeof n?n:h(n),t):A},t.subject=function(n){return arguments.length?(O="function"==typeof n?n:h(n),t):O},t.touchable=function(n){return arguments.length?(k="function"==typeof n?n:h(!!n),t):k},t.on=function(){var n=S.on.apply(S,arguments);return n===S?t:n},t.clickDistance=function(n){return arguments.length?(P=(n=+n)*n,t):Math.sqrt(P)},t},t.dragDisable=f,t.dragEnable=o,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-dispatch":15,"d3-selection":19}],17:[function(t,n,e){!function(t,r){"object"==typeof e&&void 0!==n?r(e):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function n(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function e(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function r(t){return(1-Math.cos(l*t))/2}function o(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function i(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function a(t){return(t=+t)<h?_*t*t:t<d?_*(t-=p)*t+v:t<g?_*(t-=y)*t+m:_*(t-=b)*t+w}var u=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(3),c=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),s=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),l=Math.PI,f=l/2,h=4/11,p=6/11,d=8/11,v=.75,y=9/11,g=10/11,m=.9375,b=21/22,w=63/64,_=1/h/h,x=function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e}(1.70158),j=function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(1.70158),M=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(1.70158),A=2*Math.PI,O=function t(n,e){function r(t){return n*Math.pow(2,10*--t)*Math.sin((o-t)/e)}var o=Math.asin(1/(n=Math.max(1,n)))*(e/=A);return r.amplitude=function(n){return t(n,e*A)},r.period=function(e){return t(n,e)},r}(1,.3),k=function t(n,e){function r(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+o)/e)}var o=Math.asin(1/(n=Math.max(1,n)))*(e/=A);return r.amplitude=function(n){return t(n,e*A)},r.period=function(e){return t(n,e)},r}(1,.3),E=function t(n,e){function r(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((o-t)/e):2-n*Math.pow(2,-10*t)*Math.sin((o+t)/e))/2}var o=Math.asin(1/(n=Math.max(1,n)))*(e/=A);return r.amplitude=function(n){return t(n,e*A)},r.period=function(e){return t(n,e)},r}(1,.3);t.easeLinear=function(t){return+t},t.easeQuad=n,t.easeQuadIn=function(t){return t*t},t.easeQuadOut=function(t){return t*(2-t)},t.easeQuadInOut=n,t.easeCubic=e,t.easeCubicIn=function(t){return t*t*t},t.easeCubicOut=function(t){return--t*t*t+1},t.easeCubicInOut=e,t.easePoly=s,t.easePolyIn=u,t.easePolyOut=c,t.easePolyInOut=s,t.easeSin=r,t.easeSinIn=function(t){return 1-Math.cos(t*f)},t.easeSinOut=function(t){return Math.sin(t*f)},t.easeSinInOut=r,t.easeExp=o,t.easeExpIn=function(t){return Math.pow(2,10*t-10)},t.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},t.easeExpInOut=o,t.easeCircle=i,t.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},t.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},t.easeCircleInOut=i,t.easeBounce=a,t.easeBounceIn=function(t){return 1-a(1-t)},t.easeBounceOut=a,t.easeBounceInOut=function(t){return((t*=2)<=1?1-a(1-t):a(t-1)+1)/2},t.easeBack=M,t.easeBackIn=x,t.easeBackOut=j,t.easeBackInOut=M,t.easeElastic=k,t.easeElasticIn=O,t.easeElasticOut=k,t.easeElasticInOut=E,Object.defineProperty(t,"__esModule",{value:!0})})},{}],18:[function(t,n,e){!function(r,o){"object"==typeof e&&void 0!==n?o(e,t("d3-color")):"function"==typeof define&&define.amd?define(["exports","d3-color"],o):o(r.d3=r.d3||{},r.d3)}(this,function(t,n){"use strict";function e(t,n,e,r,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*n+(4-6*i+3*a)*e+(1+3*t+3*i-3*a)*r+a*o)/6}function r(t,n){return function(e){return t+e*n}}function o(t,n){var e=n-t;return e?r(t,e>180||e<-180?e-360*Math.round(e/360):e):b(isNaN(t)?n:t)}function i(t){return 1==(t=+t)?a:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):b(isNaN(n)?e:n)}}function a(t,n){var e=n-t;return e?r(t,e):b(isNaN(t)?n:t)}function u(t){return function(e){var r,o,i=e.length,a=new Array(i),u=new Array(i),c=new Array(i);for(r=0;r<i;++r)o=n.rgb(e[r]),a[r]=o.r||0,u[r]=o.g||0,c[r]=o.b||0;return a=t(a),u=t(u),c=t(c),o.opacity=1,function(t){return o.r=a(t),o.g=u(t),o.b=c(t),o+""}}}function c(t,n,e,r){function o(t){return t.length?t.pop()+" ":""}return function(i,a){var u=[],c=[];return i=t(i),a=t(a),function(t,r,o,i,a,u){if(t!==o||r!==i){var c=a.push("translate(",null,n,null,e);u.push({i:c-4,x:A(t,o)},{i:c-2,x:A(r,i)})}else(o||i)&&a.push("translate("+o+n+i+e)}(i.translateX,i.translateY,a.translateX,a.translateY,u,c),function(t,n,e,i){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),i.push({i:e.push(o(e)+"rotate(",null,r)-2,x:A(t,n)})):n&&e.push(o(e)+"rotate("+n+r)}(i.rotate,a.rotate,u,c),function(t,n,e,i){t!==n?i.push({i:e.push(o(e)+"skewX(",null,r)-2,x:A(t,n)}):n&&e.push(o(e)+"skewX("+n+r)}(i.skewX,a.skewX,u,c),function(t,n,e,r,i,a){if(t!==e||n!==r){var u=i.push(o(i)+"scale(",null,",",null,")");a.push({i:u-4,x:A(t,e)},{i:u-2,x:A(n,r)})}else 1===e&&1===r||i.push(o(i)+"scale("+e+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,u,c),i=a=null,function(t){for(var n,e=-1,r=c.length;++e<r;)u[(n=c[e]).i]=n.x(t);return u.join("")}}}function s(t){return((t=Math.exp(t))+1/t)/2}function l(t){return function(e,r){var o=t((e=n.hsl(e)).h,(r=n.hsl(r)).h),i=a(e.s,r.s),u=a(e.l,r.l),c=a(e.opacity,r.opacity);return function(t){return e.h=o(t),e.s=i(t),e.l=u(t),e.opacity=c(t),e+""}}}function f(t){return function(e,r){var o=t((e=n.hcl(e)).h,(r=n.hcl(r)).h),i=a(e.c,r.c),u=a(e.l,r.l),c=a(e.opacity,r.opacity);return function(t){return e.h=o(t),e.c=i(t),e.l=u(t),e.opacity=c(t),e+""}}}function h(t){return function e(r){function o(e,o){var i=t((e=n.cubehelix(e)).h,(o=n.cubehelix(o)).h),u=a(e.s,o.s),c=a(e.l,o.l),s=a(e.opacity,o.opacity);return function(t){return e.h=i(t),e.s=u(t),e.l=c(Math.pow(t,r)),e.opacity=s(t),e+""}}return r=+r,o.gamma=e,o}(1)}var p,d,v,y,g=function(t){var n=t.length-1;return function(r){var o=r<=0?r=0:r>=1?(r=1,n-1):Math.floor(r*n),i=t[o],a=t[o+1],u=o>0?t[o-1]:2*i-a,c=o<n-1?t[o+2]:2*a-i;return e((r-o/n)*n,u,i,a,c)}},m=function(t){var n=t.length;return function(r){var o=Math.floor(((r%=1)<0?++r:r)*n),i=t[(o+n-1)%n],a=t[o%n],u=t[(o+1)%n],c=t[(o+2)%n];return e((r-o/n)*n,i,a,u,c)}},b=function(t){return function(){return t}},w=function t(e){function r(t,e){var r=o((t=n.rgb(t)).r,(e=n.rgb(e)).r),i=o(t.g,e.g),u=o(t.b,e.b),c=a(t.opacity,e.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=u(n),t.opacity=c(n),t+""}}var o=i(e);return r.gamma=t,r}(1),_=u(g),x=u(m),j=function(t,n){var e,r=n?n.length:0,o=t?Math.min(r,t.length):0,i=new Array(o),a=new Array(r);for(e=0;e<o;++e)i[e]=N(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<o;++e)a[e]=i[e](t);return a}},M=function(t,n){var e=new Date;return t=+t,n-=t,function(r){return e.setTime(t+n*r),e}},A=function(t,n){return t=+t,n-=t,function(e){return t+n*e}},O=function(t,n){var e,r={},o={};null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={});for(e in n)e in t?r[e]=N(t[e],n[e]):o[e]=n[e];return function(t){for(e in r)o[e]=r[e](t);return o}},k=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,E=new RegExp(k.source,"g"),S=function(t,n){var e,r,o,i=k.lastIndex=E.lastIndex=0,a=-1,u=[],c=[];for(t+="",n+="";(e=k.exec(t))&&(r=E.exec(n));)(o=r.index)>i&&(o=n.slice(i,o),u[a]?u[a]+=o:u[++a]=o),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,c.push({i:a,x:A(e,r)})),i=E.lastIndex;return i<n.length&&(o=n.slice(i),u[a]?u[a]+=o:u[++a]=o),u.length<2?c[0]?function(t){return function(n){return t(n)+""}}(c[0].x):function(t){return function(){return t}}(n):(n=c.length,function(t){for(var e,r=0;r<n;++r)u[(e=c[r]).i]=e.x(t);return u.join("")})},N=function(t,e){var r,o=typeof e;return null==e||"boolean"===o?b(e):("number"===o?A:"string"===o?(r=n.color(e))?(e=r,w):S:e instanceof n.color?w:e instanceof Date?M:Array.isArray(e)?j:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?O:A)(t,e)},P=180/Math.PI,I={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},X=function(t,n,e,r,o,i){var a,u,c;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,c/=u),t*r<n*e&&(t=-t,n=-n,c=-c,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(n,t)*P,skewX:Math.atan(c)*P,scaleX:a,scaleY:u}},C=c(function(t){return"none"===t?I:(p||(p=document.createElement("DIV"),d=document.documentElement,v=document.defaultView),p.style.transform=t,t=v.getComputedStyle(d.appendChild(p),null).getPropertyValue("transform"),d.removeChild(p),t=t.slice(7,-1).split(","),X(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Y=c(function(t){return null==t?I:(y||(y=document.createElementNS("http://www.w3.org/2000/svg","g")),y.setAttribute("transform",t),(t=y.transform.baseVal.consolidate())?(t=t.matrix,X(t.a,t.b,t.c,t.d,t.e,t.f)):I)},", ",")",")"),z=Math.SQRT2,B=l(o),T=l(a),R=f(o),D=f(a),q=h(o),F=h(a);t.interpolate=N,t.interpolateArray=j,t.interpolateBasis=g,t.interpolateBasisClosed=m,t.interpolateDate=M,t.interpolateNumber=A,t.interpolateObject=O,t.interpolateRound=function(t,n){return t=+t,n-=t,function(e){return Math.round(t+n*e)}},t.interpolateString=S,t.interpolateTransformCss=C,t.interpolateTransformSvg=Y,t.interpolateZoom=function(t,n){var e,r,o=t[0],i=t[1],a=t[2],u=n[0],c=n[1],l=n[2],f=u-o,h=c-i,p=f*f+h*h;if(p<1e-12)r=Math.log(l/a)/z,e=function(t){return[o+t*f,i+t*h,a*Math.exp(z*t*r)]};else{var d=Math.sqrt(p),v=(l*l-a*a+4*p)/(2*a*2*d),y=(l*l-a*a-4*p)/(2*l*2*d),g=Math.log(Math.sqrt(v*v+1)-v),m=Math.log(Math.sqrt(y*y+1)-y);r=(m-g)/z,e=function(t){var n=t*r,e=s(g),u=a/(2*d)*(e*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(z*n+g)-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[o+u*f,i+u*h,a*e/s(z*n+g)]}}return e.duration=1e3*r,e},t.interpolateRgb=w,t.interpolateRgbBasis=_,t.interpolateRgbBasisClosed=x,t.interpolateHsl=B,t.interpolateHslLong=T,t.interpolateLab=function(t,e){var r=a((t=n.lab(t)).l,(e=n.lab(e)).l),o=a(t.a,e.a),i=a(t.b,e.b),u=a(t.opacity,e.opacity);return function(n){return t.l=r(n),t.a=o(n),t.b=i(n),t.opacity=u(n),t+""}},t.interpolateHcl=R,t.interpolateHclLong=D,t.interpolateCubehelix=q,t.interpolateCubehelixLong=F,t.quantize=function(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e},Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-color":14}],19:[function(t,n,e){!function(t,r){"object"==typeof e&&void 0!==n?r(e):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function n(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),I.hasOwnProperty(n)?{space:I[n],local:t}:t}function e(t){var e=n(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===P&&n.documentElement.namespaceURI===P?n.createElement(t):n.createElementNS(e,t)}})(e)}function r(t){return null==t?function(){}:function(){return this.querySelector(t)}}function o(t){return null==t?function(){return[]}:function(){return this.querySelectorAll(t)}}function i(t){return new Array(t.length)}function a(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function u(t,n){if(!t)return d=new Array(this.size()),l=-1,this.each(function(t){d[++l]=t}),d;var e=n?function(t,n,e,r,o,i,u){var c,s,l,f={},h=n.length,p=i.length,d=new Array(h);for(c=0;c<h;++c)(s=n[c])&&(d[c]=l=B+u.call(s,s.__data__,c,n),l in f?o[c]=s:f[l]=s);for(c=0;c<p;++c)(s=f[l=B+u.call(t,i[c],c,i)])?(r[c]=s,s.__data__=i[c],f[l]=null):e[c]=new a(t,i[c]);for(c=0;c<h;++c)(s=n[c])&&f[d[c]]===s&&(o[c]=s)}:function(t,n,e,r,o,i){for(var u,c=0,s=n.length,l=i.length;c<l;++c)(u=n[c])?(u.__data__=i[c],r[c]=u):e[c]=new a(t,i[c]);for(;c<s;++c)(u=n[c])&&(o[c]=u)},r=this._parents,o=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var i=o.length,u=new Array(i),c=new Array(i),s=new Array(i),l=0;l<i;++l){var f=r[l],h=o[l],p=h.length,d=t.call(f,f&&f.__data__,l,r),v=d.length,y=c[l]=new Array(v),g=u[l]=new Array(v);e(f,h,y,g,s[l]=new Array(p),d,n);for(var m,b,w=0,_=0;w<v;++w)if(m=y[w]){for(w>=_&&(_=w+1);!(b=g[_])&&++_<v;);m._next=b||null}}return u=new M(u,r),u._enter=c,u._exit=s,u}function c(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function s(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function l(t,n){return t.style.getPropertyValue(n)||s(t).getComputedStyle(t,null).getPropertyValue(n)}function f(t){return t.trim().split(/^|\s+/)}function h(t){return t.classList||new p(t)}function p(t){this._node=t,this._names=f(t.getAttribute("class")||"")}function d(t,n){for(var e=h(t),r=-1,o=n.length;++r<o;)e.add(n[r])}function v(t,n){for(var e=h(t),r=-1,o=n.length;++r<o;)e.remove(n[r])}function y(t,n){var e=f(t+"");if(arguments.length<2){for(var r=h(this.node()),o=-1,i=e.length;++o<i;)if(!r.contains(e[o]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?d:v)(this,t)}}:n?function(t){return function(){d(this,t)}}:function(t){return function(){v(this,t)}})(e,n))}function g(){this.nextSibling&&this.parentNode.appendChild(this)}function m(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function b(){var t=this.parentNode;t&&t.removeChild(this)}function w(n,e,r){return function(o){var i=t.event;t.event=o;try{n.call(this,this.__data__,e,r)}finally{t.event=i}}}function _(t,n,e){var r=T.hasOwnProperty(t.type)?function(t,n,e){return t=w(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}:w;return function(o,i,a){var u,c=this.__on,s=r(n,i,a);if(c)for(var l=0,f=c.length;l<f;++l)if((u=c[l]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=s,u.capture=e),void(u.value=n);this.addEventListener(t.type,s,e),u={type:t.type,name:t.name,value:n,listener:s,capture:e},c?c.push(u):this.__on=[u]}}function x(t,n,e){var r=s(t),o=r.CustomEvent;"function"==typeof o?o=new o(n,e):(o=r.document.createEvent("Event"),e?(o.initEvent(n,e.bubbles,e.cancelable),o.detail=e.detail):o.initEvent(n,!1,!1)),t.dispatchEvent(o)}function j(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return x(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return x(this,t,n)}})(t,n))}function M(t,n){this._groups=t,this._parents=n}function A(){return new M([[document.documentElement]],R)}function O(t){return"string"==typeof t?new M([[document.querySelector(t)]],[document.documentElement]):new M([[t]],R)}function k(){return new E}function E(){this._="@"+(++D).toString(36)}function S(){for(var n,e=t.event;n=e.sourceEvent;)e=n;return e}function N(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var o=t.getBoundingClientRect();return[n.clientX-o.left-t.clientLeft,n.clientY-o.top-t.clientTop]}var P="http://www.w3.org/1999/xhtml",I={svg:"http://www.w3.org/2000/svg",xhtml:P,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},X=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var C=document.documentElement;if(!C.matches){var Y=C.webkitMatchesSelector||C.msMatchesSelector||C.mozMatchesSelector||C.oMatchesSelector;X=function(t){return function(){return Y.call(this,t)}}}}var z=X;a.prototype={constructor:a,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var B="$";p.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var T={};if(t.event=null,"undefined"!=typeof document){"onmouseenter"in document.documentElement||(T={mouseenter:"mouseover",mouseleave:"mouseout"})}var R=[null];M.prototype=A.prototype={constructor:M,select:function(t){"function"!=typeof t&&(t=r(t));for(var n=this._groups,e=n.length,o=new Array(e),i=0;i<e;++i)for(var a,u,c=n[i],s=c.length,l=o[i]=new Array(s),f=0;f<s;++f)(a=c[f])&&(u=t.call(a,a.__data__,f,c))&&("__data__"in a&&(u.__data__=a.__data__),l[f]=u);return new M(o,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=o(t));for(var n=this._groups,e=n.length,r=[],i=[],a=0;a<e;++a)for(var u,c=n[a],s=c.length,l=0;l<s;++l)(u=c[l])&&(r.push(t.call(u,u.__data__,l,c)),i.push(u));return new M(r,i)},filter:function(t){"function"!=typeof t&&(t=z(t));for(var n=this._groups,e=n.length,r=new Array(e),o=0;o<e;++o)for(var i,a=n[o],u=a.length,c=r[o]=[],s=0;s<u;++s)(i=a[s])&&t.call(i,i.__data__,s,a)&&c.push(i);return new M(r,this._parents)},data:u,enter:function(){return new M(this._enter||this._groups.map(i),this._parents)},exit:function(){return new M(this._exit||this._groups.map(i),this._parents)},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,o=e.length,i=Math.min(r,o),a=new Array(r),u=0;u<i;++u)for(var c,s=n[u],l=e[u],f=s.length,h=a[u]=new Array(f),p=0;p<f;++p)(c=s[p]||l[p])&&(h[p]=c);for(;u<r;++u)a[u]=n[u];return new M(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,o=t[n],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=c);for(var e=this._groups,r=e.length,o=new Array(r),i=0;i<r;++i){for(var a,u=e[i],s=u.length,l=o[i]=new Array(s),f=0;f<s;++f)(a=u[f])&&(l[f]=a);l.sort(n)}return new M(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var o,i=n[e],a=0,u=i.length;a<u;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,e){var r=n(t);if(arguments.length<2){var o=this.node();return r.local?o.getAttributeNS(r.space,r.local):o.getAttribute(r)}return this.each((null==e?r.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?r.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:r.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(r,e))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):l(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:y,text:function(t){return arguments.length?this.each(null==t?function(){this.textContent=""}:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?function(){this.innerHTML=""}:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(g)},lower:function(){return this.each(m)},append:function(t){var n="function"==typeof t?t:e(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var o="function"==typeof t?t:e(t),i=null==n?function(){return null}:"function"==typeof n?n:r(n);return this.select(function(){return this.insertBefore(o.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(b)},clone:function(t){return this.select(t?function(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}:function(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)})},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,o,i=(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}),a=i.length;if(!(arguments.length<2)){for(u=n?_:function(t){return function(){var n=this.__on;if(n){for(var e,r=0,o=-1,i=n.length;r<i;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++o]=e:this.removeEventListener(e.type,e.listener,e.capture);++o?n.length=o:delete this.__on}}},null==e&&(e=!1),r=0;r<a;++r)this.each(u(i[r],n,e));return this}var u=this.node().__on;if(u)for(var c,s=0,l=u.length;s<l;++s)for(r=0,c=u[s];r<a;++r)if((o=i[r]).type===c.type&&o.name===c.name)return c.value},dispatch:j};var D=0;E.prototype=k.prototype={constructor:E,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},t.create=function(t){return O(e(t).call(document.documentElement))},t.creator=e,t.local=k,t.matcher=z,t.mouse=function(t){var n=S();return n.changedTouches&&(n=n.changedTouches[0]),N(t,n)},t.namespace=n,t.namespaces=I,t.clientPoint=N,t.select=O,t.selectAll=function(t){return"string"==typeof t?new M([document.querySelectorAll(t)],[document.documentElement]):new M([null==t?[]:t],R)},t.selection=A,t.selector=r,t.selectorAll=o,t.style=l,t.touch=function(t,n,e){arguments.length<3&&(e=n,n=S().changedTouches);for(var r,o=0,i=n?n.length:0;o<i;++o)if((r=n[o]).identifier===e)return N(t,r);return null},t.touches=function(t,n){null==n&&(n=S().touches);for(var e=0,r=n?n.length:0,o=new Array(r);e<r;++e)o[e]=N(t,n[e]);return o},t.window=s,t.customEvent=function(n,e,r,o){var i=t.event;n.sourceEvent=t.event,t.event=n;try{return e.apply(r,o)}finally{t.event=i}},Object.defineProperty(t,"__esModule",{value:!0})})},{}],20:[function(t,n,e){!function(t,r){"object"==typeof e&&void 0!==n?r(e):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function n(){return y||(b(e),y=m.now()+g)}function e(){y=0}function r(){this._call=this._time=this._next=null}function o(t,n,e){var o=new r;return o.restart(t,n,e),o}function i(){n(),++f;for(var t,e=s;e;)(t=y-e._time)>=0&&e._call.call(null,t),e=e._next;--f}function a(){y=(v=m.now())+g,f=h=0;try{i()}finally{f=0,function(){var t,n,e=s,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:s=n);l=t,c(r)}(),y=0}}function u(){var t=m.now(),n=t-v;n>d&&(g-=n,v=t)}function c(t){if(!f){h&&(h=clearTimeout(h));t-y>24?(t<1/0&&(h=setTimeout(a,t-m.now()-g)),p&&(p=clearInterval(p))):(p||(v=m.now(),p=setInterval(u,d)),f=1,b(a))}}var s,l,f=0,h=0,p=0,d=1e3,v=0,y=0,g=0,m="object"==typeof performance&&performance.now?performance:Date,b="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};r.prototype=o.prototype={constructor:r,restart:function(t,e,r){if("function"!=typeof t)throw new TypeError("callback is not a function");r=(null==r?n():+r)+(null==e?0:+e),this._next||l===this||(l?l._next=this:s=this,l=this),this._call=t,this._time=r,c()},stop:function(){this._call&&(this._call=null,this._time=1/0,c())}};t.now=n,t.timer=o,t.timerFlush=i,t.timeout=function(t,n,e){var o=new r;return n=null==n?0:+n,o.restart(function(e){o.stop(),t(e+n)},n,e),o},t.interval=function(t,e,o){var i=new r,a=e;return null==e?(i.restart(t,e,o),i):(e=+e,o=null==o?n():+o,i.restart(function n(r){r+=a,i.restart(n,a+=e,o),t(r)},e,o),i)},Object.defineProperty(t,"__esModule",{value:!0})})},{}],21:[function(t,n,e){!function(r,o){"object"==typeof e&&void 0!==n?o(e,t("d3-selection"),t("d3-dispatch"),t("d3-timer"),t("d3-interpolate"),t("d3-color"),t("d3-ease")):"function"==typeof define&&define.amd?define(["exports","d3-selection","d3-dispatch","d3-timer","d3-interpolate","d3-color","d3-ease"],o):o(r.d3=r.d3||{},r.d3,r.d3,r.d3,r.d3,r.d3,r.d3)}(this,function(t,n,e,r,o,i,a){"use strict";function u(t,n){var e=s(t,n);if(e.state>g)throw new Error("too late; already scheduled");return e}function c(t,n){var e=s(t,n);if(e.state>b)throw new Error("too late; already started");return e}function s(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function l(t,n,e){var r=t._id;return t.each(function(){var t=c(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return s(t,r).value[n]}}function f(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function h(t){return n.selection().transition(t)}function p(){return++E}function d(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return N.time=r.now(),N;return e}var v=e.dispatch("start","end","interrupt"),y=[],g=0,m=1,b=2,w=3,_=4,x=5,j=6,M=function(t,n,e,o,i,a){var u=t.__transition;if(u){if(e in u)return}else t.__transition={};!function(t,n,e){function o(s){var l,f,h,p;if(e.state!==m)return a();for(l in c)if((p=c[l]).name===e.name){if(p.state===w)return r.timeout(o);p.state===_?(p.state=j,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete c[l]):+l<n&&(p.state=j,p.timer.stop(),delete c[l])}if(r.timeout(function(){e.state===w&&(e.state=_,e.timer.restart(i,e.delay,e.time),i(s))}),e.state=b,e.on.call("start",t,t.__data__,e.index,e.group),e.state===b){for(e.state=w,u=new Array(h=e.tween.length),l=0,f=-1;l<h;++l)(p=e.tween[l].value.call(t,t.__data__,e.index,e.group))&&(u[++f]=p);u.length=f+1}}function i(n){for(var r=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(a),e.state=x,1),o=-1,i=u.length;++o<i;)u[o].call(null,r);e.state===x&&(e.on.call("end",t,t.__data__,e.index,e.group),a())}function a(){e.state=j,e.timer.stop(),delete c[n];for(var r in c)return;delete t.__transition}var u,c=t.__transition;c[n]=e,e.timer=r.timer(function(t){e.state=m,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)},0,e.time)}(t,e,{name:n,index:o,group:i,on:v,tween:y,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:g})},A=function(t,n){var e,r,o,i=t.__transition,a=!0;if(i){n=null==n?null:n+"";for(o in i)(e=i[o]).name===n?(r=e.state>b&&e.state<x,e.state=j,e.timer.stop(),r&&e.on.call("interrupt",t,t.__data__,e.index,e.group),delete i[o]):a=!1;a&&delete t.__transition}},O=function(t,n){var e;return("number"==typeof n?o.interpolateNumber:n instanceof i.color?o.interpolateRgb:(e=i.color(n))?(n=e,o.interpolateRgb):o.interpolateString)(t,n)},k=n.selection.prototype.constructor,E=0,S=n.selection.prototype;f.prototype=h.prototype={constructor:f,select:function(t){var e=this._name,r=this._id;"function"!=typeof t&&(t=n.selector(t));for(var o=this._groups,i=o.length,a=new Array(i),u=0;u<i;++u)for(var c,l,h=o[u],p=h.length,d=a[u]=new Array(p),v=0;v<p;++v)(c=h[v])&&(l=t.call(c,c.__data__,v,h))&&("__data__"in c&&(l.__data__=c.__data__),d[v]=l,M(d[v],e,r,v,d,s(c,r)));return new f(a,this._parents,e,r)},selectAll:function(t){var e=this._name,r=this._id;"function"!=typeof t&&(t=n.selectorAll(t));for(var o=this._groups,i=o.length,a=[],u=[],c=0;c<i;++c)for(var l,h=o[c],p=h.length,d=0;d<p;++d)if(l=h[d]){for(var v,y=t.call(l,l.__data__,d,h),g=s(l,r),m=0,b=y.length;m<b;++m)(v=y[m])&&M(v,e,r,m,y,g);a.push(y),u.push(l)}return new f(a,u,e,r)},filter:function(t){"function"!=typeof t&&(t=n.matcher(t));for(var e=this._groups,r=e.length,o=new Array(r),i=0;i<r;++i)for(var a,u=e[i],c=u.length,s=o[i]=[],l=0;l<c;++l)(a=u[l])&&t.call(a,a.__data__,l,u)&&s.push(a);return new f(o,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,o=e.length,i=Math.min(r,o),a=new Array(r),u=0;u<i;++u)for(var c,s=n[u],l=e[u],h=s.length,p=a[u]=new Array(h),d=0;d<h;++d)(c=s[d]||l[d])&&(p[d]=c);for(;u<r;++u)a[u]=n[u];return new f(a,this._parents,this._name,this._id)},selection:function(){return new k(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=p(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,u=r[i],c=u.length,l=0;l<c;++l)if(a=u[l]){var h=s(a,n);M(a,t,e,l,u,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new f(r,this._parents,t,e)},call:S.call,nodes:S.nodes,node:S.node,size:S.size,empty:S.empty,each:S.each,on:function(t,n){var e=this._id;return arguments.length<2?s(this.node(),e).on.on(t):this.each(function(t,n,e){var r,o,i=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(n)?u:c;return function(){var a=i(this,t),u=a.on;u!==r&&(o=(r=u).copy()).on(n,e),a.on=o}}(e,t,n))},attr:function(t,e){var r=n.namespace(t),i="transform"===r?o.interpolateTransformSvg:O;return this.attrTween(t,"function"==typeof e?(r.local?function(t,n,e){var r,o,i;return function(){var a,u=e(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===u?null:a===r&&u===o?i:i=n(r=a,o=u);this.removeAttributeNS(t.space,t.local)}}:function(t,n,e){var r,o,i;return function(){var a,u=e(this);if(null!=u)return(a=this.getAttribute(t))===u?null:a===r&&u===o?i:i=n(r=a,o=u);this.removeAttribute(t)}})(r,i,l(this,"attr."+t,e)):null==e?(r.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(r):(r.local?function(t,n,e){var r,o;return function(){var i=this.getAttributeNS(t.space,t.local);return i===e?null:i===r?o:o=n(r=i,e)}}:function(t,n,e){var r,o;return function(){var i=this.getAttribute(t);return i===e?null:i===r?o:o=n(r=i,e)}})(r,i,e+""))},attrTween:function(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;var o=n.namespace(t);return this.tween(r,(o.local?function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttributeNS(t.space,t.local,r(n))}}return e._value=n,e}:function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttribute(t,r(n))}}return e._value=n,e})(o,e))},style:function(t,e,r){var i="transform"==(t+="")?o.interpolateTransformCss:O;return null==e?this.styleTween(t,function(t,e){var r,o,i;return function(){var a=n.style(this,t),u=(this.style.removeProperty(t),n.style(this,t));return a===u?null:a===r&&u===o?i:i=e(r=a,o=u)}}(t,i)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof e?function(t,e,r){var o,i,a;return function(){var u=n.style(this,t),c=r(this);return null==c&&(this.style.removeProperty(t),c=n.style(this,t)),u===c?null:u===o&&c===i?a:a=e(o=u,i=c)}}(t,i,l(this,"style."+t,e)):function(t,e,r){var o,i;return function(){var a=n.style(this,t);return a===r?null:a===o?i:i=e(o=a,r)}}(t,i,e+""),r)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){function r(){var r=this,o=n.apply(r,arguments);return o&&function(n){r.style.setProperty(t,o(n),e)}}return r._value=n,r}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(l(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,o=s(this.node(),e).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===t)return r.value;return null}return this.each((null==n?function(t,n){var e,r;return function(){var o=c(this,t),i=o.tween;if(i!==e)for(var a=0,u=(r=e=i).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}o.tween=r}}:function(t,n,e){var r,o;if("function"!=typeof e)throw new Error;return function(){var i=c(this,t),a=i.tween;if(a!==r){o=(r=a).slice();for(var u={name:n,value:e},s=0,l=o.length;s<l;++s)if(o[s].name===n){o[s]=u;break}s===l&&o.push(u)}i.tween=o}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){u(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){u(this,t).delay=n}})(n,t)):s(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){c(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){c(this,t).duration=n}})(n,t)):s(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){c(this,t).ease=n}}(n,t)):s(this.node(),n).ease}};var N={time:null,delay:0,duration:250,ease:a.easeCubicInOut};n.selection.prototype.interrupt=function(t){return this.each(function(){A(this,t)})},n.selection.prototype.transition=function(t){var n,e;t instanceof f?(n=t._id,t=t._name):(n=p(),(e=N).time=r.now(),t=null==t?null:t+"");for(var o=this._groups,i=o.length,a=0;a<i;++a)for(var u,c=o[a],s=c.length,l=0;l<s;++l)(u=c[l])&&M(u,t,n,l,c,e||d(u,n));return new f(o,this._parents,t,n)};var P=[null];t.transition=h,t.active=function(t,n){var e,r,o=t.__transition;if(o){n=null==n?null:n+"";for(r in o)if((e=o[r]).state>m&&e.name===n)return new f([[t]],P,n,+r)}return null},t.interrupt=A,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-color":14,"d3-dispatch":15,"d3-ease":17,"d3-interpolate":18,"d3-selection":19,"d3-timer":20}],22:[function(t,n,e){!function(r,o){"object"==typeof e&&void 0!==n?o(e,t("d3-dispatch"),t("d3-drag"),t("d3-interpolate"),t("d3-selection"),t("d3-transition")):"function"==typeof define&&define.amd?define(["exports","d3-dispatch","d3-drag","d3-interpolate","d3-selection","d3-transition"],o):o(r.d3=r.d3||{},r.d3,r.d3,r.d3,r.d3,r.d3)}(this,function(t,n,e,r,o,i){"use strict";function a(t,n,e){this.k=t,this.x=n,this.y=e}function u(t){return t.__zoom||y}function c(){o.event.stopImmediatePropagation()}function s(){return!o.event.button}function l(){var t,n,e=this;return e instanceof SVGElement?(t=(e=e.ownerSVGElement||e).width.baseVal.value,n=e.height.baseVal.value):(t=e.clientWidth,n=e.clientHeight),[[0,0],[t,n]]}function f(){return this.__zoom||y}function h(){return-o.event.deltaY*(o.event.deltaMode?120:1)/500}function p(){return"ontouchstart"in this}function d(t,n,e){var r=t.invertX(n[0][0])-e[0][0],o=t.invertX(n[1][0])-e[1][0],i=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}var v=function(t){return function(){return t}};a.prototype={constructor:a,scale:function(t){return 1===t?this:new a(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new a(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var y=new a(1,0,0);u.prototype=a.prototype;var g=function(){o.event.preventDefault(),o.event.stopImmediatePropagation()};t.zoom=function(){function t(t){t.property("__zoom",f).on("wheel.zoom",j).on("mousedown.zoom",M).on("dblclick.zoom",A).filter(Y).on("touchstart.zoom",O).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function u(t,n){return(n=Math.max(z[0],Math.min(z[1],n)))===t.k?t:new a(n,t.x,t.y)}function m(t,n,e){var r=n[0]-e[0]*t.k,o=n[1]-e[1]*t.k;return r===t.x&&o===t.y?t:new a(t.k,r,o)}function b(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function w(t,n,e){t.on("start.zoom",function(){_(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){_(this,arguments).end()}).tween("zoom",function(){var t=arguments,r=_(this,t),o=I.apply(this,t),i=e||b(o),u=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),c=this.__zoom,s="function"==typeof n?n.apply(this,t):n,l=R(c.invert(i).concat(u/c.k),s.invert(i).concat(u/s.k));return function(t){if(1===t)t=s;else{var n=l(t),e=u/n[2];t=new a(e,i[0]-n[0]*e,i[1]-n[1]*e)}r.zoom(null,t)}})}function _(t,n){for(var e,r=0,o=D.length;r<o;++r)if((e=D[r]).that===t)return e;return new x(t,n)}function x(t,n){this.that=t,this.args=n,this.index=-1,this.active=0,this.extent=I.apply(t,n)}function j(){if(P.apply(this,arguments)){var t=_(this,arguments),n=this.__zoom,e=Math.max(z[0],Math.min(z[1],n.k*Math.pow(2,C.apply(this,arguments)))),r=o.mouse(this);if(t.wheel)t.mouse[0][0]===r[0]&&t.mouse[0][1]===r[1]||(t.mouse[1]=n.invert(t.mouse[0]=r)),clearTimeout(t.wheel);else{if(n.k===e)return;t.mouse=[r,n.invert(r)],i.interrupt(this),t.start()}g(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},$),t.zoom("mouse",X(m(u(n,e),t.mouse[0],t.mouse[1]),t.extent,B))}}function M(){if(!N&&P.apply(this,arguments)){var t=_(this,arguments),n=o.select(o.event.view).on("mousemove.zoom",function(){if(g(),!t.moved){var n=o.event.clientX-a,e=o.event.clientY-u;t.moved=n*n+e*e>L}t.zoom("mouse",X(m(t.that.__zoom,t.mouse[0]=o.mouse(t.that),t.mouse[1]),t.extent,B))},!0).on("mouseup.zoom",function(){n.on("mousemove.zoom mouseup.zoom",null),e.dragEnable(o.event.view,t.moved),g(),t.end()},!0),r=o.mouse(this),a=o.event.clientX,u=o.event.clientY;e.dragDisable(o.event.view),c(),t.mouse=[r,this.__zoom.invert(r)],i.interrupt(this),t.start()}}function A(){if(P.apply(this,arguments)){var n=this.__zoom,e=o.mouse(this),r=n.invert(e),i=n.k*(o.event.shiftKey?.5:2),a=X(m(u(n,i),e,r),I.apply(this,arguments),B);g(),T>0?o.select(this).transition().duration(T).call(w,a,e):o.select(this).call(t.transform,a)}}function O(){if(P.apply(this,arguments)){var t,n,e,r,a=_(this,arguments),u=o.event.changedTouches,s=u.length;for(c(),n=0;n<s;++n)e=u[n],r=[r=o.touch(this,u,e.identifier),this.__zoom.invert(r),e.identifier],a.touch0?a.touch1||(a.touch1=r):(a.touch0=r,t=!0);if(S&&(S=clearTimeout(S),!a.touch1))return a.end(),void((r=o.select(this).on("dblclick.zoom"))&&r.apply(this,arguments));t&&(S=setTimeout(function(){S=null},F),i.interrupt(this),a.start())}}function k(){var t,n,e,r,i=_(this,arguments),a=o.event.changedTouches,c=a.length;for(g(),S&&(S=clearTimeout(S)),t=0;t<c;++t)n=a[t],e=o.touch(this,a,n.identifier),i.touch0&&i.touch0[2]===n.identifier?i.touch0[0]=e:i.touch1&&i.touch1[2]===n.identifier&&(i.touch1[0]=e);if(n=i.that.__zoom,i.touch1){var s=i.touch0[0],l=i.touch0[1],f=i.touch1[0],h=i.touch1[1],p=(p=f[0]-s[0])*p+(p=f[1]-s[1])*p,d=(d=h[0]-l[0])*d+(d=h[1]-l[1])*d;n=u(n,Math.sqrt(p/d)),e=[(s[0]+f[0])/2,(s[1]+f[1])/2],r=[(l[0]+h[0])/2,(l[1]+h[1])/2]}else{if(!i.touch0)return;e=i.touch0[0],r=i.touch0[1]}i.zoom("touch",X(m(n,e,r),i.extent,B))}function E(){var t,n,e=_(this,arguments),r=o.event.changedTouches,i=r.length;for(c(),N&&clearTimeout(N),N=setTimeout(function(){N=null},F),t=0;t<i;++t)n=r[t],e.touch0&&e.touch0[2]===n.identifier?delete e.touch0:e.touch1&&e.touch1[2]===n.identifier&&delete e.touch1;e.touch1&&!e.touch0&&(e.touch0=e.touch1,delete e.touch1),e.touch0?e.touch0[1]=this.__zoom.invert(e.touch0[0]):e.end()}var S,N,P=s,I=l,X=d,C=h,Y=p,z=[0,1/0],B=[[-1/0,-1/0],[1/0,1/0]],T=250,R=r.interpolateZoom,D=[],q=n.dispatch("start","zoom","end"),F=500,$=150,L=0;return t.transform=function(t,n){var e=t.selection?t.selection():t;e.property("__zoom",f),t!==e?w(t,n):e.interrupt().each(function(){_(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()})},t.scaleBy=function(n,e){t.scaleTo(n,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},t.scaleTo=function(n,e){t.transform(n,function(){var t=I.apply(this,arguments),n=this.__zoom,r=b(t),o=n.invert(r),i="function"==typeof e?e.apply(this,arguments):e;return X(m(u(n,i),r,o),t,B)})},t.translateBy=function(n,e,r){t.transform(n,function(){return X(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof r?r.apply(this,arguments):r),I.apply(this,arguments),B)})},t.translateTo=function(n,e,r){t.transform(n,function(){var t=I.apply(this,arguments),n=this.__zoom,o=b(t);return X(y.translate(o[0],o[1]).scale(n.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof r?-r.apply(this,arguments):-r),t,B)})},x.prototype={start:function(){return 1==++this.active&&(this.index=D.push(this)-1,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(D.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(n){o.customEvent(new function(t,n,e){this.target=t,this.type=n,this.transform=e}(t,n,this.that.__zoom),q.apply,q,[n,this.that,this.args])}},t.wheelDelta=function(n){return arguments.length?(C="function"==typeof n?n:v(+n),t):C},t.filter=function(n){return arguments.length?(P="function"==typeof n?n:v(!!n),t):P},t.touchable=function(n){return arguments.length?(Y="function"==typeof n?n:v(!!n),t):Y},t.extent=function(n){return arguments.length?(I="function"==typeof n?n:v([[+n[0][0],+n[0][1]],[+n[1][0],+n[1][1]]]),t):I},t.scaleExtent=function(n){return arguments.length?(z[0]=+n[0],z[1]=+n[1],t):[z[0],z[1]]},t.translateExtent=function(n){return arguments.length?(B[0][0]=+n[0][0],B[1][0]=+n[1][0],B[0][1]=+n[0][1],B[1][1]=+n[1][1],t):[[B[0][0],B[0][1]],[B[1][0],B[1][1]]]},t.constrain=function(n){return arguments.length?(X=n,t):X},t.duration=function(n){return arguments.length?(T=+n,t):T},t.interpolate=function(n){return arguments.length?(R=n,t):R},t.on=function(){var n=q.on.apply(q,arguments);return n===q?t:n},t.clickDistance=function(n){return arguments.length?(L=(n=+n)*n,t):Math.sqrt(L)},t},t.zoomTransform=u,t.zoomIdentity=y,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-dispatch":15,"d3-drag":16,"d3-interpolate":18,"d3-selection":19,"d3-transition":21}],23:[function(t,n,e){function r(t){if(t){console.error(t,t.stack);var n="";t.name&&(n+=t.name+": "),n+=t.message,t.stack&&(n+=" | "+t.stack.toString()),function(t){var n=document.getElementById("status-message");n.textContent=t,n.classList.remove("hidden")}(n)}}n.exports=r},{}],24:[function(t,n,e){"object"==typeof n&&"object"==typeof n.exports&&(n.exports=function(){function t(t){return t[~~(Math.random()*t.length)]}var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");return{randomId:function(e){for(var r="",o=0;o<e;++o)r+=t(n);return r}}}())},{}],25:[function(t,n,e){n.exports=function(t,n){for(var e=-1,r=t.length,o=Array(r);++e<r;)o[e]=n(t[e],e,t);return o}},{}],26:[function(t,n,e){function r(t,n,e){var r=typeof t;return"function"==r?void 0===n?t:h(t,n,e):null==t?l:"object"==r?function(t){var n=function(t){var n=d(t),e=n.length;for(;e--;)n[e][2]=a(n[e][1]);return n}(t);if(1==n.length&&n[0][2]){var e=n[0][0],r=n[0][1];return function(t){return null!=t&&(t[e]===r&&(void 0!==r||e in u(t)))}}return function(t){return function(t,n,e){var r=n.length,o=r,i=!e;if(null==t)return!o;t=u(t);for(;r--;){var a=n[r];if(i&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<o;){var c=(a=n[r])[0],s=t[c],l=a[1];if(i&&a[2]){if(void 0===s&&!(c in t))return!1}else{var h=e?e(s,l,c):void 0;if(!(void 0===h?f(l,s,e,!0):h))return!1}}return!0}(t,n)}}(t):void 0===n?function(t){return i(t)?function(t){return function(n){return null==n?void 0:n[t]}}(t):function(t){var n=t+"";return t=c(t),function(e){return o(e,t,n)}}(t)}(t):function(t,n){var e=p(t),r=i(t)&&a(n),s=t+"";return t=c(t),function(i){if(null==i)return!1;var a=s;if(i=u(i),(e||!r)&&!(a in i)){if(null==(i=1==t.length?i:o(i,function(t,n,e){var r=-1,o=t.length;(n=null==n?0:+n||0)<0&&(n=-n>o?0:o+n),(e=void 0===e||e>o?o:+e||0)<0&&(e+=o),o=n>e?0:e-n>>>0,n>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+n];return i}(t,0,-1))))return!1;a=function(t){var n=t?t.length:0;return n?t[n-1]:void 0}(t),i=u(i)}return i[a]===n?void 0!==n||a in i:f(n,i[a],void 0,!0)}}(t,n)}function o(t,n,e){if(null!=t){void 0!==e&&e in u(t)&&(n=[e]);for(var r=0,o=n.length;null!=t&&r<o;)t=t[n[r++]];return r&&r==o?t:void 0}}function i(t,n){var e=typeof t;if("string"==e&&y.test(t)||"number"==e)return!0;if(p(t))return!1;return!v.test(t)||null!=n&&t in u(n)}function a(t){return t==t&&!s(t)}function u(t){return s(t)?t:Object(t)}function c(t){if(p(t))return t;var n=[];return function(t){return null==t?"":t+""}(t).replace(g,function(t,e,r,o){n.push(r?o.replace(m,"$1"):e||t)}),n}function s(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function l(t){return t}var f=t("lodash._baseisequal"),h=t("lodash._bindcallback"),p=t("lodash.isarray"),d=t("lodash.pairs"),v=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,y=/^\w*$/,g=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,m=/\\(\\)?/g;n.exports=r},{"lodash._baseisequal":31,"lodash._bindcallback":34,"lodash.isarray":43,"lodash.pairs":47}],27:[function(t,n,e){function r(t,n){return function(e,r){var i=e?s(e):0;if(!function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=a}(i))return t(e,r);for(var u=n?i:-1,c=o(e);(n?u--:++u<i)&&!1!==r(c[u],u,c););return e}}function o(t){return function(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}(t)?t:Object(t)}var i=t("lodash.keys"),a=9007199254740991,u=r(function(t,n){return c(t,n,i)}),c=function(t){return function(n,e,r){for(var i=o(n),a=r(n),u=a.length,c=t?u:-1;t?c--:++c<u;){var s=a[c];if(!1===e(i[s],s,i))break}return n}}(),s=function(t){return function(n){return null==n?void 0:n[t]}}("length");n.exports=u},{"lodash.keys":45}],28:[function(t,n,e){n.exports=function(t,n,e,r){var o;return e(t,function(t,e,i){if(n(t,e,i))return o=r?e:t,!1}),o}},{}],29:[function(t,n,e){n.exports=function(t,n,e){for(var r=t.length,o=e?r:-1;e?o--:++o<r;)if(n(t[o],o,t))return o;return-1}},{}],30:[function(t,n,e){function r(t,n,e){if(null!=t){void 0!==e&&e in function(t){return function(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}(t)?t:Object(t)}(t)&&(n=[e]);for(var r=0,o=n.length;null!=t&&r<o;)t=t[n[r++]];return r&&r==o?t:void 0}}n.exports=r},{}],31:[function(t,n,e){function r(t,n){for(var e=-1,r=t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}function o(t,n,e,g,w,_){return t===n||(null==t||null==n||!function(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}(t)&&!function(t){return!!t&&"object"==typeof t}(n)?t!=t&&n!=n:function(t,n,e,o,g,w,_){var x=i(t),j=i(n),M=s,A=s;x||((M=b.call(t))==c?M=d:M!=d&&(x=a(t)));j||((A=b.call(n))==c?A=d:A!=d&&(j=a(n)));var O=M==d,k=A==d,E=M==A;if(E&&!x&&!O)return function(t,n,e){switch(e){case l:case f:return+t==+n;case h:return t.name==n.name&&t.message==n.message;case p:return t!=+t?n!=+n:t==+n;case v:case y:return t==n+""}return!1}(t,n,M);if(!g){var S=O&&m.call(t,"__wrapped__"),N=k&&m.call(n,"__wrapped__");if(S||N)return e(S?t.value():t,N?n.value():n,o,g,w,_)}if(!E)return!1;w||(w=[]),_||(_=[]);var P=w.length;for(;P--;)if(w[P]==t)return _[P]==n;w.push(t),_.push(n);var I=(x?function(t,n,e,o,i,a,u){var c=-1,s=t.length,l=n.length;if(s!=l&&!(i&&l>s))return!1;for(;++c<s;){var f=t[c],h=n[c],p=o?o(i?h:f,i?f:h,c):void 0;if(void 0!==p){if(p)continue;return!1}if(i){if(!r(n,function(t){return f===t||e(f,t,o,i,a,u)}))return!1}else if(f!==h&&!e(f,h,o,i,a,u))return!1}return!0}:function(t,n,e,r,o,i,a){var c=u(t),s=c.length,l=u(n).length;if(s!=l&&!o)return!1;var f=s;for(;f--;){var h=c[f];if(!(o?h in n:m.call(n,h)))return!1}var p=o;for(;++f<s;){h=c[f];var d=t[h],v=n[h],y=r?r(o?v:d,o?d:v,h):void 0;if(!(void 0===y?e(d,v,r,o,i,a):y))return!1;p||(p="constructor"==h)}if(!p){var g=t.constructor,b=n.constructor;if(g!=b&&"constructor"in t&&"constructor"in n&&!("function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b))return!1}return!0})(t,n,e,o,g,w,_);return w.pop(),_.pop(),I}(t,n,o,e,g,w,_))}var i=t("lodash.isarray"),a=t("lodash.istypedarray"),u=t("lodash.keys"),c="[object Arguments]",s="[object Array]",l="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Number]",d="[object Object]",v="[object RegExp]",y="[object String]",g=Object.prototype,m=g.hasOwnProperty,b=g.toString;n.exports=o},{"lodash.isarray":43,"lodash.istypedarray":44,"lodash.keys":45}],32:[function(t,n,e){function r(t,n,e){var r=n.length,i=r,a=!e;if(null==t)return!i;for(t=function(t){return function(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}(t)?t:Object(t)}(t);r--;){var u=n[r];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++r<i;){var c=(u=n[r])[0],s=t[c],l=u[1];if(a&&u[2]){if(void 0===s&&!(c in t))return!1}else{var f=e?e(s,l,c):void 0;if(!(void 0===f?o(l,s,e,!0):f))return!1}}return!0}var o=t("lodash._baseisequal");n.exports=r},{"lodash._baseisequal":31}],33:[function(t,n,e){function r(t){var n=function(t){var n=a(t),e=n.length;for(;e--;)n[e][2]=function(t){return t==t&&!o(t)}(n[e][1]);return n}(t);if(1==n.length&&n[0][2]){var e=n[0][0],r=n[0][1];return function(t){return null!=t&&(t[e]===r&&(void 0!==r||e in function(t){return o(t)?t:Object(t)}(t)))}}return function(t){return i(t,n)}}function o(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}var i=t("lodash._baseismatch"),a=t("lodash.pairs");n.exports=r},{"lodash._baseismatch":32,"lodash.pairs":47}],34:[function(t,n,e){function r(t){return t}n.exports=function(t,n,e){if("function"!=typeof t)return r;if(void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 3:return function(e,r,o){return t.call(n,e,r,o)};case 4:return function(e,r,o,i){return t.call(n,e,r,o,i)};case 5:return function(e,r,o,i,a){return t.call(n,e,r,o,i,a)}}return function(){return t.apply(n,arguments)}}},{}],35:[function(t,n,e){function r(t,n){var e=null==t?void 0:t[n];return function(t){if(null==t)return!1;if(function(t){return function(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}(t)&&s.call(t)==o}(t))return l.test(u.call(t));return function(t){return!!t&&"object"==typeof t}(t)&&i.test(t)}(e)?e:void 0}var o="[object Function]",i=/^\[object .+?Constructor\]$/,a=Object.prototype,u=Function.prototype.toString,c=a.hasOwnProperty,s=a.toString,l=RegExp("^"+u.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=r},{}],36:[function(t,n,e){var r=t("lodash.isarray"),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,i=/\\(\\)?/g;n.exports=function(t){if(r(t))return t;var n=[];return function(t){return null==t?"":t+""}(t).replace(o,function(t,e,r,o){n.push(r?o.replace(i,"$1"):e||t)}),n}},{"lodash.isarray":43}],37:[function(t,n,e){(function(t){function r(t,n){return t.set(n[0],n[1]),t}function o(t,n){return t.add(n),t}function i(t,n,e,r){var o=-1,i=t?t.length:0;for(r&&i&&(e=t[++o]);++o<i;)e=n(e,t[o],o,t);return e}function a(t){var n=!1;if(null!=t&&"function"!=typeof t.toString)try{n=!!(t+"")}catch(t){}return n}function u(t){var n=-1,e=Array(t.size);return t.forEach(function(t,r){e[++n]=[r,t]}),e}function c(t,n){return function(e){return t(n(e))}}function s(t){var n=-1,e=Array(t.size);return t.forEach(function(t){e[++n]=t}),e}function l(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function f(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function h(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function p(t){this.__data__=new f(t)}function d(t,n){var e=Vt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&O(t)}(t)&&mt.call(t,"callee")&&(!Ot.call(t,"callee")||bt.call(t)==X)}(t)?function(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}(t.length,String):[],r=e.length,o=!!r;for(var i in t)!n&&!mt.call(t,i)||o&&("length"==i||function(t,n){return!!(n=null==n?I:n)&&("number"==typeof t||ot.test(t))&&t>-1&&t%1==0&&t<n}(i,r))||e.push(i);return e}function v(t,n,e){var r=t[n];mt.call(t,n)&&A(r,e)&&(void 0!==e||n in t)||(t[n]=e)}function y(t,n){for(var e=t.length;e--;)if(A(t[e][0],n))return e;return-1}function g(t,n,e,c,l,f,h){var d;if(c&&(d=f?c(t,l,f,h):c(t)),void 0!==d)return d;if(!E(t))return t;var y=Vt(t);if(y){if(d=function(t){var n=t.length,e=t.constructor(n);n&&"string"==typeof t[0]&&mt.call(t,"index")&&(e.index=t.index,e.input=t.input);return e}(t),!n)return function(t,n){var e=-1,r=t.length;n||(n=Array(r));for(;++e<r;)n[e]=t[e];return n}(t,d)}else{var m=Gt(t),_=m==z||m==B;if(Ht(t))return function(t,n){if(n)return t.slice();var e=new t.constructor(t.length);return t.copy(e),e}(t,n);if(m==D||m==X||_&&!f){if(a(t))return f?t:{};if(d=function(t){return"function"!=typeof t.constructor||j(t)?{}:function(t){return E(t)?At(t):{}}(Mt(t))}(_?{}:t),!n)return function(t,n){return w(t,Lt(t),n)}(t,function(t,n){return t&&w(n,S(n),t)}(d,t))}else{if(!it[m])return f?t:{};d=function(t,n,e,a){var c=t.constructor;switch(n){case G:return b(t);case C:case Y:return new c(+t);case V:return function(t,n){var e=n?b(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,a);case H:case U:case W:case Q:case K:case J:case Z:case tt:case nt:return function(t,n){var e=n?b(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}(t,a);case T:return function(t,n,e){return i(n?e(u(t),!0):u(t),r,new t.constructor)}(t,a,e);case R:case $:return new c(t);case q:return function(t){var n=new t.constructor(t.source,et.exec(t));return n.lastIndex=t.lastIndex,n}(t);case F:return function(t,n,e){return i(n?e(s(t),!0):s(t),o,new t.constructor)}(t,a,e);case L:return function(t){return $t?Object($t.call(t)):{}}(t)}}(t,m,g,n)}}h||(h=new p);var x=h.get(t);if(x)return x;if(h.set(t,d),!y)var M=e?function(t){return function(t,n,e){var r=n(t);return Vt(t)?r:function(t,n){for(var e=-1,r=n.length,o=t.length;++e<r;)t[o+e]=n[e];return t}(r,e(t))}(t,S,Lt)}(t):S(t);return function(t,n){for(var e=-1,r=t?t.length:0;++e<r&&!1!==n(t[e],e,t););}(M||t,function(r,o){M&&(r=t[o=r]),v(d,o,g(r,n,e,c,o,t,h))}),d}function m(t){if(!E(t)||function(t){return!!yt&&yt in t}(t))return!1;return(k(t)||a(t)?wt:rt).test(M(t))}function b(t){var n=new t.constructor(t.byteLength);return new jt(n).set(new jt(t)),n}function w(t,n,e,r){e||(e={});for(var o=-1,i=n.length;++o<i;){var a=n[o],u=r?r(e[a],t[a],a,e,t):void 0;v(e,a,void 0===u?t[a]:u)}return e}function _(t,n){var e=t.__data__;return function(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}(n)?e["string"==typeof n?"string":"hash"]:e.map}function x(t,n){var e=function(t,n){return null==t?void 0:t[n]}(t,n);return m(e)?e:void 0}function j(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||dt)}function M(t){if(null!=t){try{return gt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function A(t,n){return t===n||t!=t&&n!=n}function O(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=I}(t.length)&&!k(t)}function k(t){var n=E(t)?bt.call(t):"";return n==z||n==B}function E(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function S(t){return O(t)?d(t):function(t){if(!j(t))return Nt(t);var n=[];for(var e in Object(t))mt.call(t,e)&&"constructor"!=e&&n.push(e);return n}(t)}var N=200,P="__lodash_hash_undefined__",I=9007199254740991,X="[object Arguments]",C="[object Boolean]",Y="[object Date]",z="[object Function]",B="[object GeneratorFunction]",T="[object Map]",R="[object Number]",D="[object Object]",q="[object RegExp]",F="[object Set]",$="[object String]",L="[object Symbol]",G="[object ArrayBuffer]",V="[object DataView]",H="[object Float32Array]",U="[object Float64Array]",W="[object Int8Array]",Q="[object Int16Array]",K="[object Int32Array]",J="[object Uint8Array]",Z="[object Uint8ClampedArray]",tt="[object Uint16Array]",nt="[object Uint32Array]",et=/\w*$/,rt=/^\[object .+?Constructor\]$/,ot=/^(?:0|[1-9]\d*)$/,it={};it[X]=it["[object Array]"]=it[G]=it[V]=it[C]=it[Y]=it[H]=it[U]=it[W]=it[Q]=it[K]=it[T]=it[R]=it[D]=it[q]=it[F]=it[$]=it[L]=it[J]=it[Z]=it[tt]=it[nt]=!0,it["[object Error]"]=it[z]=it["[object WeakMap]"]=!1;var at="object"==typeof t&&t&&t.Object===Object&&t,ut="object"==typeof self&&self&&self.Object===Object&&self,ct=at||ut||Function("return this")(),st="object"==typeof e&&e&&!e.nodeType&&e,lt=st&&"object"==typeof n&&n&&!n.nodeType&&n,ft=lt&&lt.exports===st,ht=Array.prototype,pt=Function.prototype,dt=Object.prototype,vt=ct["__core-js_shared__"],yt=function(){var t=/[^.]+$/.exec(vt&&vt.keys&&vt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),gt=pt.toString,mt=dt.hasOwnProperty,bt=dt.toString,wt=RegExp("^"+gt.call(mt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_t=ft?ct.Buffer:void 0,xt=ct.Symbol,jt=ct.Uint8Array,Mt=c(Object.getPrototypeOf,Object),At=Object.create,Ot=dt.propertyIsEnumerable,kt=ht.splice,Et=Object.getOwnPropertySymbols,St=_t?_t.isBuffer:void 0,Nt=c(Object.keys,Object),Pt=x(ct,"DataView"),It=x(ct,"Map"),Xt=x(ct,"Promise"),Ct=x(ct,"Set"),Yt=x(ct,"WeakMap"),zt=x(Object,"create"),Bt=M(Pt),Tt=M(It),Rt=M(Xt),Dt=M(Ct),qt=M(Yt),Ft=xt?xt.prototype:void 0,$t=Ft?Ft.valueOf:void 0;l.prototype.clear=function(){this.__data__=zt?zt(null):{}},l.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},l.prototype.get=function(t){var n=this.__data__;if(zt){var e=n[t];return e===P?void 0:e}return mt.call(n,t)?n[t]:void 0},l.prototype.has=function(t){var n=this.__data__;return zt?void 0!==n[t]:mt.call(n,t)},l.prototype.set=function(t,n){return this.__data__[t]=zt&&void 0===n?P:n,this},f.prototype.clear=function(){this.__data__=[]},f.prototype.delete=function(t){var n=this.__data__,e=y(n,t);return!(e<0||(e==n.length-1?n.pop():kt.call(n,e,1),0))},f.prototype.get=function(t){var n=this.__data__,e=y(n,t);return e<0?void 0:n[e][1]},f.prototype.has=function(t){return y(this.__data__,t)>-1},f.prototype.set=function(t,n){var e=this.__data__,r=y(e,t);return r<0?e.push([t,n]):e[r][1]=n,this},h.prototype.clear=function(){this.__data__={hash:new l,map:new(It||f),string:new l}},h.prototype.delete=function(t){return _(this,t).delete(t)},h.prototype.get=function(t){return _(this,t).get(t)},h.prototype.has=function(t){return _(this,t).has(t)},h.prototype.set=function(t,n){return _(this,t).set(t,n),this},p.prototype.clear=function(){this.__data__=new f},p.prototype.delete=function(t){return this.__data__.delete(t)},p.prototype.get=function(t){return this.__data__.get(t)},p.prototype.has=function(t){return this.__data__.has(t)},p.prototype.set=function(t,n){var e=this.__data__;if(e instanceof f){var r=e.__data__;if(!It||r.length<N-1)return r.push([t,n]),this;e=this.__data__=new h(r)}return e.set(t,n),this};var Lt=Et?c(Et,Object):function(){return[]},Gt=function(t){return bt.call(t)};(Pt&&Gt(new Pt(new ArrayBuffer(1)))!=V||It&&Gt(new It)!=T||Xt&&"[object Promise]"!=Gt(Xt.resolve())||Ct&&Gt(new Ct)!=F||Yt&&"[object WeakMap]"!=Gt(new Yt))&&(Gt=function(t){var n=bt.call(t),e=n==D?t.constructor:void 0,r=e?M(e):void 0;if(r)switch(r){case Bt:return V;case Tt:return T;case Rt:return"[object Promise]";case Dt:return F;case qt:return"[object WeakMap]"}return n});var Vt=Array.isArray,Ht=St||function(){return!1};n.exports=function(t){return g(t,!0,!0)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],38:[function(t,n,e){(function(t){function e(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function r(t,n){return!!(t?t.length:0)&&function(t,n,e){if(n!=n)return function(t,n,e,r){var o=t.length,i=e+(r?1:-1);for(;r?i--:++i<o;)if(n(t[i],i,t))return i;return-1}(t,o,e);var r=e-1,i=t.length;for(;++r<i;)if(t[r]===n)return r;return-1}(t,n,0)>-1}function o(t){return t!=t}function i(t,n){for(var e=-1,r=t.length,o=0,i=[];++e<r;){var a=t[e];a!==n&&a!==b||(t[e]=b,i[o++]=e)}return i}function a(t){if(!v(t)||function(t){return!!Z&&Z in t}(t))return!1;return(function(t){var n=v(t)?et.call(t):"";return n==C||n==Y}(t)||function(t){var n=!1;if(null!=t&&"function"!=typeof t.toString)try{n=!!(t+"")}catch(t){}return n}(t)?rt:$).test(function(t){if(null!=t){try{return tt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function u(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var e=function(t){return v(t)?ot(t):{}}(t.prototype),r=t.apply(e,n);return v(r)?r:e}}function c(t,n,e,r,o,a,l,h,d,v){function y(){for(var w=arguments.length,_=Array(w),j=w;j--;)_[j]=arguments[j];if(x)var M=f(y),k=function(t,n){for(var e=t.length,r=0;e--;)t[e]===n&&r++;return r}(_,M);if(r&&(_=function(t,n,e,r){for(var o=-1,i=t.length,a=e.length,u=-1,c=n.length,s=it(i-a,0),l=Array(c+s),f=!r;++u<c;)l[u]=n[u];for(;++o<a;)(f||o<i)&&(l[e[o]]=t[o]);for(;s--;)l[u++]=t[o++];return l}(_,r,o,x)),a&&(_=function(t,n,e,r){for(var o=-1,i=t.length,a=-1,u=e.length,c=-1,s=n.length,l=it(i-u,0),f=Array(l+s),h=!r;++o<l;)f[o]=t[o];for(var p=o;++c<s;)f[p+c]=n[c];for(;++a<u;)(h||o<i)&&(f[p+e[a]]=t[o++]);return f}(_,a,l,x)),w-=k,x&&w<v){var E=i(_,M);return s(t,n,c,y.placeholder,e,_,E,h,d,v-w)}var S=m?e:this,N=b?S[t]:t;return w=_.length,h?_=function(t,n){var e=t.length,r=at(n.length,e),o=function(t,n){var e=-1,r=t.length;for(n||(n=Array(r));++e<r;)n[e]=t[e];return n}(t);for(;r--;){var i=n[r];t[r]=p(i,e)?o[i]:void 0}return t}(_,h):A&&w>1&&_.reverse(),g&&d<w&&(_.length=d),this&&this!==W&&this instanceof y&&(N=O||u(N)),N.apply(S,_)}var g=n&k,m=n&w,b=n&_,x=n&(j|M),A=n&E,O=b?void 0:u(t);return y}function s(t,n,e,r,o,i,a,u,c,s){var l=n&j;n|=l?A:O,(n&=~(l?O:A))&x||(n&=~(w|_));var f=e(t,n,o,l?i:void 0,l?a:void 0,l?void 0:i,l?void 0:a,u,c,s);return f.placeholder=r,ct(f,t,n)}function l(t,n,r,o,a,l,h,p){var d=n&_;if(!d&&"function"!=typeof t)throw new TypeError(m);var v=o?o.length:0;if(v||(n&=~(A|O),o=a=void 0),h=void 0===h?h:it(g(h),0),p=void 0===p?p:g(p),v-=a?a.length:0,n&O){var y=o,b=a;o=a=void 0}var x=[t,n,r,o,a,y,b,l,h,p];if(t=x[0],n=x[1],r=x[2],o=x[3],a=x[4],!(p=x[9]=null==x[9]?d?0:t.length:it(x[9]-v,0))&&n&(j|M)&&(n&=~(j|M)),n&&n!=w)k=n==j||n==M?function(t,n,r){function o(){for(var u=arguments.length,l=Array(u),h=u,p=f(o);h--;)l[h]=arguments[h];var d=u<3&&l[0]!==p&&l[u-1]!==p?[]:i(l,p);return(u-=d.length)<r?s(t,n,c,o.placeholder,void 0,l,d,void 0,void 0,r-u):e(this&&this!==W&&this instanceof o?a:t,this,l)}var a=u(t);return o}(t,n,p):n!=A&&n!=(w|A)||a.length?c.apply(void 0,x):function(t,n,r,o){function i(){for(var n=-1,u=arguments.length,s=-1,l=o.length,f=Array(l+u),h=this&&this!==W&&this instanceof i?c:t;++s<l;)f[s]=o[s];for(;u--;)f[s++]=arguments[++n];return e(h,a?r:this,f)}var a=n&w,c=u(t);return i}(t,n,r,o);else var k=function(t,n,e){function r(){return(this&&this!==W&&this instanceof r?i:t).apply(o?e:this,arguments)}var o=n&w,i=u(t);return r}(t,n,r);return ct(k,t,n)}function f(t){return t.placeholder}function h(t,n){var e=function(t,n){return null==t?void 0:t[n]}(t,n);return a(e)?e:void 0}function p(t,n){return!!(n=null==n?N:n)&&("number"==typeof t||G.test(t))&&t>-1&&t%1==0&&t<n}function d(t,n,e){var r=l(t,j,void 0,void 0,void 0,void 0,void 0,n=e?void 0:n);return r.placeholder=d.placeholder,r}function v(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function y(t){if(!t)return 0===t?t:0;if((t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&et.call(t)==z}(t))return I;if(v(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=v(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(B,"");var e=F.test(t);return e||L.test(t)?V(t.slice(2),e?2:8):q.test(t)?I:+t}(t))===S||t===-S){return(t<0?-1:1)*P}return t==t?t:0}function g(t){var n=y(t),e=n%1;return n==n?e?n-e:n:0}var m="Expected a function",b="__lodash_placeholder__",w=1,_=2,x=4,j=8,M=16,A=32,O=64,k=128,E=512,S=1/0,N=9007199254740991,P=1.7976931348623157e308,I=NaN,X=[["ary",k],["bind",w],["bindKey",_],["curry",j],["curryRight",M],["flip",E],["partial",A],["partialRight",O],["rearg",256]],C="[object Function]",Y="[object GeneratorFunction]",z="[object Symbol]",B=/^\s+|\s+$/g,T=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,R=/\{\n\/\* \[wrapped with (.+)\] \*/,D=/,? & /,q=/^[-+]0x[0-9a-f]+$/i,F=/^0b[01]+$/i,$=/^\[object .+?Constructor\]$/,L=/^0o[0-7]+$/i,G=/^(?:0|[1-9]\d*)$/,V=parseInt,H="object"==typeof t&&t&&t.Object===Object&&t,U="object"==typeof self&&self&&self.Object===Object&&self,W=H||U||Function("return this")(),Q=Function.prototype,K=Object.prototype,J=W["__core-js_shared__"],Z=function(){var t=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),tt=Q.toString,nt=K.hasOwnProperty,et=K.toString,rt=RegExp("^"+tt.call(nt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ot=Object.create,it=Math.max,at=Math.min,ut=function(){var t=h(Object,"defineProperty"),n=h.name;return n&&n.length>2?t:void 0}(),ct=ut?function(t,n,e){var o=n+"";return ut(t,"toString",{configurable:!0,enumerable:!1,value:function(t){return function(){return t}}(function(t,n){var e=n.length,r=e-1;return n[r]=(e>1?"& ":"")+n[r],n=n.join(e>2?", ":" "),t.replace(T,"{\n/* [wrapped with "+n+"] */\n")}(o,function(t,n){return function(t,n){for(var e=-1,r=t?t.length:0;++e<r&&!1!==n(t[e],e,t););}(X,function(e){var o="_."+e[0];n&e[1]&&!r(t,o)&&t.push(o)}),t.sort()}(function(t){var n=t.match(R);return n?n[1].split(D):[]}(o),e)))})}:function(t){return t};d.placeholder={},n.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],39:[function(t,n,e){function r(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function o(t,n){var e=M(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&h(t)}(t)&&w.call(t,"callee")&&(!x.call(t,"callee")||_.call(t)==v)}(t)?function(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}(t.length,String):[],r=e.length,o=!!r;for(var i in t)!n&&!w.call(t,i)||o&&("length"==i||l(i,r))||e.push(i);return e}function i(t,n,e,r){return void 0===t||f(t,b[e])&&!w.call(r,e)?n:t}function a(t,n,e){var r=t[n];w.call(t,n)&&f(r,e)&&(void 0!==e||n in t)||(t[n]=e)}function u(t){if(!p(t))return function(t){var n=[];if(null!=t)for(var e in Object(t))n.push(e);return n}(t);var n=function(t){var n=t&&t.constructor,e="function"==typeof n&&n.prototype||b;return t===e}(t),e=[];for(var r in t)("constructor"!=r||!n&&w.call(t,r))&&e.push(r);return e}function c(t,n){return n=j(void 0===n?t.length-1:n,0),function(){for(var e=arguments,o=-1,i=j(e.length-n,0),a=Array(i);++o<i;)a[o]=e[n+o];o=-1;for(var u=Array(n+1);++o<n;)u[o]=e[o];return u[n]=a,r(t,this,u)}}function s(t){return c(function(n,e){var r=-1,o=e.length,i=o>1?e[o-1]:void 0,a=o>2?e[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&function(t,n,e){if(!p(e))return!1;var r=typeof n;if("number"==r?h(e)&&l(n,e.length):"string"==r&&n in e)return f(e[n],t);return!1}(e[0],e[1],a)&&(i=o<3?void 0:i,o=1),n=Object(n);++r<o;){var u=e[r];u&&t(n,u,r,i)}return n})}function l(t,n){return!!(n=null==n?d:n)&&("number"==typeof t||m.test(t))&&t>-1&&t%1==0&&t<n}function f(t,n){return t===n||t!=t&&n!=n}function h(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=d}(t.length)&&!function(t){var n=p(t)?_.call(t):"";return n==y||n==g}(t)}function p(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}var d=9007199254740991,v="[object Arguments]",y="[object Function]",g="[object GeneratorFunction]",m=/^(?:0|[1-9]\d*)$/,b=Object.prototype,w=b.hasOwnProperty,_=b.toString,x=b.propertyIsEnumerable,j=Math.max,M=Array.isArray,A=s(function(t,n,e,r){!function(t,n,e,r){e||(e={});for(var o=-1,i=n.length;++o<i;){var u=n[o],c=r?r(e[u],t[u],u,e,t):void 0;a(e,u,void 0===c?t[u]:c)}}(n,function(t){return h(t)?o(t,!0):u(t)}(n),t,r)}),O=c(function(t){return t.push(void 0,i),r(A,void 0,t)});n.exports=O},{}],40:[function(t,n,e){var r=t("lodash._basecallback"),o=t("lodash._baseeach"),i=t("lodash._basefind"),a=t("lodash._basefindindex"),u=t("lodash.isarray"),c=function(t,n){return function(e,o,c){if(o=r(o,c,3),u(e)){var s=a(e,o,n);return s>-1?e[s]:void 0}return i(e,o,t)}}(o);n.exports=c},{"lodash._basecallback":26,"lodash._baseeach":27,"lodash._basefind":28,"lodash._basefindindex":29,"lodash.isarray":43}],41:[function(t,n,e){var r=t("lodash._basematches"),o=t("lodash.find");n.exports=function(t,n){return o(t,r(n))}},{"lodash._basematches":33,"lodash.find":40}],42:[function(t,n,e){function r(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}(t.length)&&!function(t){var n=function(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}(t)?l.call(t):"";return n==a||n==u}(t)}(t)}(t)&&s.call(t,"callee")&&(!f.call(t,"callee")||l.call(t)==i)}var o=9007199254740991,i="[object Arguments]",a="[object Function]",u="[object GeneratorFunction]",c=Object.prototype,s=c.hasOwnProperty,l=c.toString,f=c.propertyIsEnumerable;n.exports=r},{}],43:[function(t,n,e){function r(t){return!!t&&"object"==typeof t}function o(t,n){var e=null==t?void 0:t[n];return function(t){if(null==t)return!1;if(function(t){return function(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}(t)&&l.call(t)==i}(t))return f.test(c.call(t));return r(t)&&a.test(t)}(e)?e:void 0}var i="[object Function]",a=/^\[object .+?Constructor\]$/,u=Object.prototype,c=Function.prototype.toString,s=u.hasOwnProperty,l=u.toString,f=RegExp("^"+c.call(s).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),h=9007199254740991,p=o(Array,"isArray")||function(t){return r(t)&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=h}(t.length)&&"[object Array]"==l.call(t)};n.exports=p},{}],44:[function(t,n,e){function r(t){return function(t){return!!t&&"object"==typeof t}(t)&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}(t.length)&&!!i[a.call(t)]}var o=9007199254740991,i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1;var a=Object.prototype.toString;n.exports=r},{}],45:[function(t,n,e){function r(t,n){return t="number"==typeof t||l.test(t)?+t:-1,n=null==n?p:n,t>-1&&t%1==0&&t<n}function o(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=p}function i(t){for(var n=function(t){if(null==t)return[];a(t)||(t=Object(t));var n=t.length;n=n&&o(n)&&(s(t)||c(t))&&n||0;var e=t.constructor,i=-1,u="function"==typeof e&&e.prototype===t,l=Array(n),h=n>0;for(;++i<n;)l[i]=i+"";for(var p in t)h&&r(p,n)||"constructor"==p&&(u||!f.call(t,p))||l.push(p);return l}(t),e=n.length,i=e&&t.length,u=!!i&&o(i)&&(s(t)||c(t)),l=-1,h=[];++l<e;){var p=n[l];(u&&r(p,i)||f.call(t,p))&&h.push(p)}return h}function a(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}var u=t("lodash._getnative"),c=t("lodash.isarguments"),s=t("lodash.isarray"),l=/^\d+$/,f=Object.prototype.hasOwnProperty,h=u(Object,"keys"),p=9007199254740991,d=function(t){return function(n){return null==n?void 0:n[t]}}("length"),v=h?function(t){var n=null==t?void 0:t.constructor;return"function"==typeof n&&n.prototype===t||"function"!=typeof t&&function(t){return null!=t&&o(d(t))}(t)?i(t):a(t)?h(t):[]}:i;n.exports=v},{"lodash._getnative":35,"lodash.isarguments":42,"lodash.isarray":43}],46:[function(t,n,e){function r(t,n){var e=-1,r=function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}(s(t))}(t)?Array(t.length):[];return a(t,function(t,o,i){r[++e]=n(t,o,i)}),r}var o=t("lodash._arraymap"),i=t("lodash._basecallback"),a=t("lodash._baseeach"),u=t("lodash.isarray"),c=9007199254740991,s=function(t){return function(n){return null==n?void 0:n[t]}}("length");n.exports=function(t,n,e){var a=u(t)?o:r;return n=i(n,e,3),a(t,n)}},{"lodash._arraymap":25,"lodash._basecallback":26,"lodash._baseeach":27,"lodash.isarray":43}],47:[function(t,n,e){function r(t){t=function(t){return function(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}(t)?t:Object(t)}(t);for(var n=-1,e=o(t),r=e.length,i=Array(r);++n<r;){var a=e[n];i[n]=[a,t[a]]}return i}var o=t("lodash.keys");n.exports=r},{"lodash.keys":45}],48:[function(t,n,e){function r(t,n){var e=typeof t;if("string"==e&&l.test(t)||"number"==e)return!0;if(u(t))return!1;return!s.test(t)||null!=n&&t in function(t){return function(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}(t)?t:Object(t)}(n)}function o(t,n){return c(t,function(t){return r(t)?function(t){return function(n){return null==n?void 0:n[t]}}(t):function(t){var n=t+"";return t=a(t),function(e){return i(e,t,n)}}(t)}(n))}var i=t("lodash._baseget"),a=t("lodash._topath"),u=t("lodash.isarray"),c=t("lodash.map"),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,l=/^\w*$/;n.exports=o},{"lodash._baseget":30,"lodash._topath":36,"lodash.isarray":43,"lodash.map":46}],49:[function(t,n,e){function r(t){function n(t){return Math.floor(h()*t)}function e(t){function e(t){return function(t,n){n=+n;for(var e=0;e<t.length;++e){var r=t[e],o=r[0];if(n>=o[0]&&n<=o[1])return r[1]}}(r,t)}var r=t,o=r[r.length-1][0][1]-r[0][0][0]+1;return{outcomeAtIndex:e,roll:function(){var t=e(n(o));return"function"!=typeof t||"probable_rollOnTable"!==t.name&&"probable_pick"!==t.name?t:t()},length:o,getRangesAndOutcomesArray:function(){return r}}}function r(t){var n=[],e=-1,r=function(t){var n=[];for(var e in t){var r=t[e];n.push([r,e])}return n}(t);return(r=r.sort(o)).forEach(function(t){var r=t[0],o=t[1],i=e+1,a=i+r-1;n.push([[i,a],o]),e=a}),n}function o(t,n){return t[0]>n[0]?-1:1}function i(t){return e(function(t){var n=[];for(var e in t){var r=function(t){var n=t.split("-");if(n.length>2)return;return 1===n.length?[+t,+t]:[+n[0],+n[1]]}(e),o=t[e];if("object"==typeof o)if(Array.isArray(o))o=s(o);else{var u=i(o);"function"==typeof u.roll&&(o=u.roll)}n.push([r,o])}return n.sort(a)}(t))}function a(t,n){return t[0][0]<n[0][0]?-1:1}function u(t){return e(function(t){function n(t){var n=t[0],r=t[1],o=e+n-1,i=[e,o];if(e=o+1,Array.isArray(r))if(function(t){return Array.isArray(t)&&t.length>0&&Array.isArray(t[0])&&2===t[0].length&&"number"==typeof t[0][0]}(r)){var a=u(r);"function"==typeof a.roll&&(r=a.roll)}else r=s(r);return[i,r]}var e=0;return t.map(n)}(t))}function c(t,e){return!t||"number"!=typeof t.length||t.length<1?e:t[n(t.length)]}function s(t,n){return function(){return c(t,n)}}function l(t,n){var e=[];return t.forEach(function(t){n.forEach(function(n){Array.isArray(t)||Array.isArray(n)?e.push(t.concat(n)):e.push([t,n])})}),e}function f(t){for(var e,r=t.length,o=Array(r),i=0;i<r;i++)(e=n(i+1))!==i&&(o[i]=o[e]),o[e]=t[i];return o}var h=Math.random;return t&&t.random&&(h=t.random),{roll:n,rollDie:function(t){return 0===t?0:n(t)+1},createRangeTable:e,createRangeTableFromDict:function(t){return e(r(t))},createTableFromDef:i,createTableFromSizes:u,convertDictToRangesAndOutcomePairs:r,pickFromArray:c,crossArrays:l,getCartesianProduct:function(t){return t.slice(1).reduce(l,t[0])},shuffle:f,sample:function(t,n){return f(t).slice(0,n)},randomFn:h}}var o=r();"object"==typeof n&&(n.exports=o,n.exports.createProbable=r)},{}],50:[function(t,n,e){"use strict";function r(t,n,e,r,i){o(t,n,e||0,r||t.length-1,i||function(t,n){return t<n?-1:t>n?1:0})}function o(t,n,e,r,a){for(;r>e;){if(r-e>600){var u=r-e+1,c=n-e+1,s=Math.log(u),l=.5*Math.exp(2*s/3),f=.5*Math.sqrt(s*l*(u-l)/u)*(c-u/2<0?-1:1);o(t,n,Math.max(e,Math.floor(n-c*l/u+f)),Math.min(r,Math.floor(n+(u-c)*l/u+f)),a)}var h=t[n],p=e,d=r;for(i(t,e,n),a(t[r],h)>0&&i(t,e,r);p<d;){for(i(t,p,d),p++,d--;a(t[p],h)<0;)p++;for(;a(t[d],h)>0;)d--}0===a(t[e],h)?i(t,e,d):i(t,++d,r),d<=n&&(e=d+1),n<=d&&(r=d-1)}}function i(t,n,e){var r=t[n];t[n]=t[e],t[e]=r}n.exports=r,n.exports.default=r},{}],51:[function(t,n,e){"use strict";function r(t,n){if(!(this instanceof r))return new r(t,n);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&this._initFormat(n),this.clear()}function o(t,n){i(t,0,t.children.length,n,t)}function i(t,n,e,r,o){o||(o=p(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i,u=n;u<e;u++)i=t.children[u],a(o,t.leaf?r(i):i);return o}function a(t,n){return t.minX=Math.min(t.minX,n.minX),t.minY=Math.min(t.minY,n.minY),t.maxX=Math.max(t.maxX,n.maxX),t.maxY=Math.max(t.maxY,n.maxY),t}function u(t,n){return t.minX-n.minX}function c(t,n){return t.minY-n.minY}function s(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function l(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,n){return t.minX<=n.minX&&t.minY<=n.minY&&n.maxX<=t.maxX&&n.maxY<=t.maxY}function h(t,n){return n.minX<=t.maxX&&n.minY<=t.maxY&&n.maxX>=t.minX&&n.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(t,n,e,r,o){for(var i,a=[n,e];a.length;)(e=a.pop())-(n=a.pop())<=r||(i=n+Math.ceil((e-n)/r/2)*r,v(t,i,n,e,o),a.push(n,i,i,e))}n.exports=r,n.exports.default=r;var v=t("quickselect");r.prototype={all:function(){return this._all(this.data,[])},search:function(t){var n=this.data,e=[],r=this.toBBox;if(!h(t,n))return e;for(var o,i,a,u,c=[];n;){for(o=0,i=n.children.length;o<i;o++)a=n.children[o],h(t,u=n.leaf?r(a):a)&&(n.leaf?e.push(a):f(t,u)?this._all(a,e):c.push(a));n=c.pop()}return e},collides:function(t){var n=this.data,e=this.toBBox;if(!h(t,n))return!1;for(var r,o,i,a,u=[];n;){for(r=0,o=n.children.length;r<o;r++)if(i=n.children[r],a=n.leaf?e(i):i,h(t,a)){if(n.leaf||f(t,a))return!0;u.push(i)}n=u.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var n=0,e=t.length;n<e;n++)this.insert(t[n]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var o=this.data;this.data=r,r=o}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=p([]),this},remove:function(t,n){if(!t)return this;for(var e,r,o,i,a=this.data,u=this.toBBox(t),c=[],s=[];a||c.length;){if(a||(a=c.pop(),r=c[c.length-1],e=s.pop(),i=!0),a.leaf&&-1!==(o=function(t,n,e){if(!e)return n.indexOf(t);for(var r=0;r<n.length;r++)if(e(t,n[r]))return r;return-1}(t,a.children,n)))return a.children.splice(o,1),c.push(a),this._condense(c),this;i||a.leaf||!f(a,u)?r?(e++,a=r.children[e],i=!1):a=null:(c.push(a),s.push(e),e=0,r=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:u,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,n){for(var e=[];t;)t.leaf?n.push.apply(n,t.children):e.push.apply(e,t.children),t=e.pop();return n},_build:function(t,n,e,r){var i,a=e-n+1,u=this._maxEntries;if(a<=u)return i=p(t.slice(n,e+1)),o(i,this.toBBox),i;r||(r=Math.ceil(Math.log(a)/Math.log(u)),u=Math.ceil(a/Math.pow(u,r-1))),(i=p([])).leaf=!1,i.height=r;var c,s,l,f,h=Math.ceil(a/u),v=h*Math.ceil(Math.sqrt(u));for(d(t,n,e,v,this.compareMinX),c=n;c<=e;c+=v)for(d(t,c,l=Math.min(c+v-1,e),h,this.compareMinY),s=c;s<=l;s+=h)f=Math.min(s+h-1,l),i.children.push(this._build(t,s,f,r-1));return o(i,this.toBBox),i},_chooseSubtree:function(t,n,e,r){for(var o,i,a,u,c,l,f,h;;){if(r.push(n),n.leaf||r.length-1===e)break;for(f=h=1/0,o=0,i=n.children.length;o<i;o++)c=s(a=n.children[o]),(l=function(t,n){return(Math.max(n.maxX,t.maxX)-Math.min(n.minX,t.minX))*(Math.max(n.maxY,t.maxY)-Math.min(n.minY,t.minY))}(t,a)-c)<h?(h=l,f=c<f?c:f,u=a):l===h&&c<f&&(f=c,u=a);n=u||n.children[0]}return n},_insert:function(t,n,e){var r=this.toBBox,o=e?t:r(t),i=[],u=this._chooseSubtree(o,this.data,n,i);for(u.children.push(t),a(u,o);n>=0&&i[n].children.length>this._maxEntries;)this._split(i,n),n--;this._adjustParentBBoxes(o,i,n)},_split:function(t,n){var e=t[n],r=e.children.length,i=this._minEntries;this._chooseSplitAxis(e,i,r);var a=this._chooseSplitIndex(e,i,r),u=p(e.children.splice(a,e.children.length-a));u.height=e.height,u.leaf=e.leaf,o(e,this.toBBox),o(u,this.toBBox),n?t[n-1].children.push(u):this._splitRoot(e,u)},_splitRoot:function(t,n){this.data=p([t,n]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},_chooseSplitIndex:function(t,n,e){var r,o,a,u,c,l,f,h;for(l=f=1/0,r=n;r<=e-n;r++)u=function(t,n){var e=Math.max(t.minX,n.minX),r=Math.max(t.minY,n.minY),o=Math.min(t.maxX,n.maxX),i=Math.min(t.maxY,n.maxY);return Math.max(0,o-e)*Math.max(0,i-r)}(o=i(t,0,r,this.toBBox),a=i(t,r,e,this.toBBox)),c=s(o)+s(a),u<l?(l=u,h=r,f=c<f?c:f):u===l&&c<f&&(f=c,h=r);return h},_chooseSplitAxis:function(t,n,e){var r=t.leaf?this.compareMinX:u,o=t.leaf?this.compareMinY:c;this._allDistMargin(t,n,e,r)<this._allDistMargin(t,n,e,o)&&t.children.sort(r)},_allDistMargin:function(t,n,e,r){t.children.sort(r);var o,u,c=this.toBBox,s=i(t,0,n,c),f=i(t,e-n,e,c),h=l(s)+l(f);for(o=n;o<e-n;o++)u=t.children[o],a(s,t.leaf?c(u):u),h+=l(s);for(o=e-n-1;o>=n;o--)u=t.children[o],a(f,t.leaf?c(u):u),h+=l(f);return h},_adjustParentBBoxes:function(t,n,e){for(var r=e;r>=0;r--)a(n[r],t)},_condense:function(t){for(var n,e=t.length-1;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},_initFormat:function(t){var n=["return a"," - b",";"];this.compareMinX=new Function("a","b",n.join(t[0])),this.compareMinY=new Function("a","b",n.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},{quickselect:50}],52:[function(t,n,e){var r=t("qs"),o=t("lodash.clonedeep"),i=t("lodash.defaults");n.exports=function(t){function n(){u(e())}function e(){return r.parse(c.location.hash.slice(1))}function a(t){var n=c.location.protocol+"//"+c.location.host+c.location.pathname+"#"+r.stringify(t);c.history.pushState(null,null,n)}var u,c;return t&&(u=t.followRoute,c=t.windowObject),c.onhashchange=n,{addToRoute:function(t){var n=i(o(t),e());a(n),u(n)},overwriteRouteEntirely:function(t){a(t),u(t)},routeFromHash:n,unpackEncodedRoute:function(t){var n=r.parse(decodeURIComponent(t));a(n),u(n)}}}},{"lodash.clonedeep":37,"lodash.defaults":39,qs:54}],53:[function(t,n,e){"use strict";var r=String.prototype.replace,o=/%20/g;n.exports={default:"RFC3986",formatters:{RFC1738:function(t){return r.call(t,o,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},{}],54:[function(t,n,e){"use strict";var r=t("./stringify"),o=t("./parse"),i=t("./formats");n.exports={formats:i,parse:o,stringify:r}},{"./formats":53,"./parse":55,"./stringify":56}],55:[function(t,n,e){"use strict";var r=t("./utils"),o=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:r.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},a=function(t,n,e){if(t){var r=e.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,i=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(r),u=a?r.slice(0,a.index):r,c=[];if(u){if(!e.plainObjects&&o.call(Object.prototype,u)&&!e.allowPrototypes)return;c.push(u)}for(var s=0;null!==(a=i.exec(r))&&s<e.depth;){if(s+=1,!e.plainObjects&&o.call(Object.prototype,a[1].slice(1,-1))&&!e.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+r.slice(a.index)+"]"),function(t,n,e){for(var r=n,o=t.length-1;o>=0;--o){var i,a=t[o];if("[]"===a)i=(i=[]).concat(r);else{i=e.plainObjects?Object.create(null):{};var u="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(u,10);!isNaN(c)&&a!==u&&String(c)===u&&c>=0&&e.parseArrays&&c<=e.arrayLimit?(i=[])[c]=r:i[u]=r}r=i}return r}(c,n,e)}};n.exports=function(t,n){var e=n?r.assign({},n):{};if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(e.ignoreQueryPrefix=!0===e.ignoreQueryPrefix,e.delimiter="string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:i.delimiter,e.depth="number"==typeof e.depth?e.depth:i.depth,e.arrayLimit="number"==typeof e.arrayLimit?e.arrayLimit:i.arrayLimit,e.parseArrays=!1!==e.parseArrays,e.decoder="function"==typeof e.decoder?e.decoder:i.decoder,e.allowDots="boolean"==typeof e.allowDots?e.allowDots:i.allowDots,e.plainObjects="boolean"==typeof e.plainObjects?e.plainObjects:i.plainObjects,e.allowPrototypes="boolean"==typeof e.allowPrototypes?e.allowPrototypes:i.allowPrototypes,e.parameterLimit="number"==typeof e.parameterLimit?e.parameterLimit:i.parameterLimit,e.strictNullHandling="boolean"==typeof e.strictNullHandling?e.strictNullHandling:i.strictNullHandling,""===t||null===t||void 0===t)return e.plainObjects?Object.create(null):{};for(var u="string"==typeof t?function(t,n){for(var e={},r=n.ignoreQueryPrefix?t.replace(/^\?/,""):t,a=n.parameterLimit===1/0?void 0:n.parameterLimit,u=r.split(n.delimiter,a),c=0;c<u.length;++c){var s,l,f=u[c],h=f.indexOf("]="),p=-1===h?f.indexOf("="):h+1;-1===p?(s=n.decoder(f,i.decoder),l=n.strictNullHandling?null:""):(s=n.decoder(f.slice(0,p),i.decoder),l=n.decoder(f.slice(p+1),i.decoder)),o.call(e,s)?e[s]=[].concat(e[s]).concat(l):e[s]=l}return e}(t,e):t,c=e.plainObjects?Object.create(null):{},s=Object.keys(u),l=0;l<s.length;++l){var f=s[l],h=a(f,u[f],e);c=r.merge(c,h,e)}return r.compact(c)}},{"./utils":57}],56:[function(t,n,e){"use strict";var r=t("./utils"),o=t("./formats"),i={brackets:function(t){return t+"[]"},indices:function(t,n){return t+"["+n+"]"},repeat:function(t){return t}},a=Date.prototype.toISOString,u={delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,serializeDate:function(t){return a.call(t)},skipNulls:!1,strictNullHandling:!1},c=function t(n,e,o,i,a,c,s,l,f,h,p,d){var v=n;if("function"==typeof s)v=s(e,v);else if(v instanceof Date)v=h(v);else if(null===v){if(i)return c&&!d?c(e,u.encoder):e;v=""}if("string"==typeof v||"number"==typeof v||"boolean"==typeof v||r.isBuffer(v)){if(c){return[p(d?e:c(e,u.encoder))+"="+p(c(v,u.encoder))]}return[p(e)+"="+p(String(v))]}var y=[];if(void 0===v)return y;var g;if(Array.isArray(s))g=s;else{var m=Object.keys(v);g=l?m.sort(l):m}for(var b=0;b<g.length;++b){var w=g[b];a&&null===v[w]||(y=Array.isArray(v)?y.concat(t(v[w],o(e,w),o,i,a,c,s,l,f,h,p,d)):y.concat(t(v[w],e+(f?"."+w:"["+w+"]"),o,i,a,c,s,l,f,h,p,d)))}return y};n.exports=function(t,n){var e=t,a=n?r.assign({},n):{};if(null!==a.encoder&&void 0!==a.encoder&&"function"!=typeof a.encoder)throw new TypeError("Encoder has to be a function.");var s=void 0===a.delimiter?u.delimiter:a.delimiter,l="boolean"==typeof a.strictNullHandling?a.strictNullHandling:u.strictNullHandling,f="boolean"==typeof a.skipNulls?a.skipNulls:u.skipNulls,h="boolean"==typeof a.encode?a.encode:u.encode,p="function"==typeof a.encoder?a.encoder:u.encoder,d="function"==typeof a.sort?a.sort:null,v=void 0!==a.allowDots&&a.allowDots,y="function"==typeof a.serializeDate?a.serializeDate:u.serializeDate,g="boolean"==typeof a.encodeValuesOnly?a.encodeValuesOnly:u.encodeValuesOnly;if(void 0===a.format)a.format=o.default;else if(!Object.prototype.hasOwnProperty.call(o.formatters,a.format))throw new TypeError("Unknown format option provided.");var m,b,w=o.formatters[a.format];"function"==typeof a.filter?e=(b=a.filter)("",e):Array.isArray(a.filter)&&(m=b=a.filter);var _=[];if("object"!=typeof e||null===e)return"";var x;x=a.arrayFormat in i?a.arrayFormat:"indices"in a?a.indices?"indices":"repeat":"indices";var j=i[x];m||(m=Object.keys(e)),d&&m.sort(d);for(var M=0;M<m.length;++M){var A=m[M];f&&null===e[A]||(_=_.concat(c(e[A],A,j,l,f,h?p:null,b,d,v,y,w,g)))}var O=_.join(s),k=!0===a.addQueryPrefix?"?":"";return O.length>0?k+O:""}},{"./formats":53,"./utils":57}],57:[function(t,n,e){"use strict";var r=Object.prototype.hasOwnProperty,o=function(){for(var t=[],n=0;n<256;++n)t.push("%"+((n<16?"0":"")+n.toString(16)).toUpperCase());return t}();e.arrayToObject=function(t,n){for(var e=n&&n.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(e[r]=t[r]);return e},e.merge=function(t,n,o){if(!n)return t;if("object"!=typeof n){if(Array.isArray(t))t.push(n);else{if("object"!=typeof t)return[t,n];(o.plainObjects||o.allowPrototypes||!r.call(Object.prototype,n))&&(t[n]=!0)}return t}if("object"!=typeof t)return[t].concat(n);var i=t;return Array.isArray(t)&&!Array.isArray(n)&&(i=e.arrayToObject(t,o)),Array.isArray(t)&&Array.isArray(n)?(n.forEach(function(n,i){r.call(t,i)?t[i]&&"object"==typeof t[i]?t[i]=e.merge(t[i],n,o):t.push(n):t[i]=n}),t):Object.keys(n).reduce(function(t,i){var a=n[i];return r.call(t,i)?t[i]=e.merge(t[i],a,o):t[i]=a,t},i)},e.assign=function(t,n){return Object.keys(n).reduce(function(t,e){return t[e]=n[e],t},t)},e.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(n){return t}},e.encode=function(t){if(0===t.length)return t;for(var n="string"==typeof t?t:String(t),e="",r=0;r<n.length;++r){var i=n.charCodeAt(r);45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122?e+=n.charAt(r):i<128?e+=o[i]:i<2048?e+=o[192|i>>6]+o[128|63&i]:i<55296||i>=57344?e+=o[224|i>>12]+o[128|i>>6&63]+o[128|63&i]:(r+=1,i=65536+((1023&i)<<10|1023&n.charCodeAt(r)),e+=o[240|i>>18]+o[128|i>>12&63]+o[128|i>>6&63]+o[128|63&i])}return e},e.compact=function(t){for(var n=[{obj:{o:t},prop:"o"}],e=[],r=0;r<n.length;++r)for(var o=n[r],i=o.obj[o.prop],a=Object.keys(i),u=0;u<a.length;++u){var c=a[u],s=i[c];"object"==typeof s&&null!==s&&-1===e.indexOf(s)&&(n.push({obj:i,prop:c}),e.push(s))}return function(t){for(var n;t.length;){var e=t.pop();if(n=e.obj[e.prop],Array.isArray(n)){for(var r=[],o=0;o<n.length;++o)void 0!==n[o]&&r.push(n[o]);e.obj[e.prop]=r}}return n}(n)},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.isBuffer=function(t){return null!==t&&void 0!==t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}},{}],58:[function(t,n,e){function r(t,n){return t.dist<n.dist?-1:1}var o=t("lodash.pluck");n.exports=function(t,n,e="col",i="row"){var a=n.map(function(n,r){var o=n[e]-t[e],a=n[i]-t[i];return{index:r,dist:Math.sqrt(o*o+a*a)}}).sort(r);return o(a,"index")}},{"lodash.pluck":48}],59:[function(t,n,e){function r({imageContext:t,transform:n,playerGridId:e},r){!function({grid:t,imageContext:n,transform:e,playerGridId:r}){function a(t){n.moveTo(t.start.x,t.start.y),t.curves.forEach(f)}var c=function(t){for(var n=[],e=0;e<t[0].length;++e){let r=[];for(let n=0;n<t.length;++n)r.push(t[n][e]);n.push(r)}return n}(t.rows),s=t.rows.map(u(i)(!1,e)),l=c.map(u(i)(!0,e)),f=u(o)(n);n.strokeStyle=t.color,n.lineWidth=r===t.id?2:1,n.beginPath(),s.forEach(a),l.forEach(a),n.stroke()}({grid:r,imageContext:t,transform:n,playerGridId:e}),function({grid:t,imageContext:n,transform:e,playerGridId:r}){var o=r===t.id?8:4;n.fillStyle=t.color,n.beginPath(),c(t.rows,u(a)(n,e,o)),n.fill()}({grid:r,imageContext:t,transform:n,playerGridId:e})}function o(t,n){t.bezierCurveTo.apply(t,n)}function i(t,n,e){for(var r=[],o={x:n.applyX(e[0].x),y:n.applyY(e[0].y)},i=1;i<e.length;++i){let o={x:n.applyX(e[i].x),y:n.applyY(e[i].y)},l={x:n.applyX(e[i-1].x),y:n.applyY(e[i-1].y)},f=o.x-l.x;t&&(f=o.y-l.y);var a=l.x+f/2,u=l.y,c=o.x-f/2,s=o.y;t&&(a=l.x,u=l.y+f/2,c=o.x,s=o.y-f/2),r.push([a,u,c,s,o.x,o.y])}return{start:o,curves:r}}function a(t,n,e,r){var o=n.applyX(r.x),i=n.applyY(r.y);t.moveTo(o,i),t.arc(o,i,e,0,2*Math.PI)}var u=t("lodash.curry"),c=t("../apply-to-points-in-rows");n.exports=r},{"../apply-to-points-in-rows":2,"lodash.curry":38}],60:[function(t,n,e){var r=document.getElementById("sprite-sheet");const o=32;n.exports=function({imageContext:t,transform:n},e){t.drawImage(r,e.sprite.col*o,e.sprite.row*o,e.sprite.width,e.sprite.height,n.applyX(e.minX),n.applyY(e.minY),e.sprite.width,e.sprite.height)}},{}],61:[function(t,n,e){function r(t){v.clearRect(0,0,g,m),l.grids.forEach(i(a)({imageContext:v,transform:t,playerGridId:l.player.grid.id})),l.souls.forEach(i(u)({imageContext:v,transform:t}))}var o=t("d3-selection"),i=t("lodash.curry"),a=t("./render-grid"),u=t("./render-soul"),c=t("d3-zoom");const s=800;var l,f=o.select("#canvases-container"),h=o.select("#image-board"),p=o.select("#ui-board"),d=o.select("#input-board"),v=h.node().getContext("2d",{alpha:!1}),y=c.zoomIdentity,{boardWidth:g,boardHeight:m}=function(){var t=document.body.getBoundingClientRect().width;t>s&&(t=s);var n=t;return f.style("width",t),f.style("height",n),h.attr("width",t),h.attr("height",n),p.attr("width",t),p.attr("height",n),d.attr("width",t),d.attr("height",n),{boardWidth:t,boardHeight:n}}();!function(t){var n=c.zoom().scaleExtent([.03,2]).on("zoom",function(){y=o.event.transform,console.log("transform",y),t(y)});d.call(n)}(r),n.exports=function({gameState:t,onAdvance:n}){l=t,r(y),d.on("click.input",null),d.on("click.input",function(){var e=y.invertX(o.event.layerX),r=y.invertY(o.event.layerY);n({gameState:t,recentClickX:e,recentClickY:r})})}},{"./render-grid":59,"./render-soul":60,"d3-selection":19,"d3-zoom":22,"lodash.curry":38}],62:[function(t,n,e){n.exports={flattenRowsButKeepOrigins:function(t){for(var n=[],e=0;e<t.length;++e)for(var r=t[e],o=0;o<r.length;++o)n.push({rowIndex:e,colWithinRow:o,value:r[o]});return n},reconstituteIntoRows:function(t){var n=[];return t.forEach(function(t){var e=[];Array.isArray(n[t.rowIndex])?e=n[t.rowIndex]:n[t.rowIndex]=e,e[t.colWithinRow]=t.value}),n}}},{}]},{},[1]);